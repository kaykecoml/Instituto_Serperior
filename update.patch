diff --git a/created-pokemons.html b/created-pokemons.html
new file mode 100644
index 0000000000000000000000000000000000000000..8c0b1312491d35bfc97f0532e68d286d8398f7fb
--- /dev/null
+++ b/created-pokemons.html
@@ -0,0 +1,28 @@
+<!DOCTYPE html>
+<html lang="pt-br">
+<head>
+  <meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
+  <title>Pok√©mons Criados</title>
+  <link rel="stylesheet" href="css/pokemon.css"><link rel="stylesheet" href="css/created-pokemons.css">
+  <script type="module" src="js/created-pokemons.js"></script>
+</head>
+<body>
+  <aside id="sideMenu" class="side-menu" aria-hidden="true">
+    <div class="side-menu-header">Menu</div><div class="side-menu-divider"></div>
+    <div class="side-menu-actions top">
+      <a class="side-menu-btn" href="index.html">In√≠cio</a>
+      <a class="side-menu-btn" href="creation.html">Cria√ß√£o</a>
+      <a class="side-menu-btn" href="created-pokemons.html">Pok√©mons Criados</a>
+    </div>
+    <button class="side-menu-btn side-menu-login" type="button">Logar</button>
+  </aside>
+  <div id="sideMenuBackdrop" class="side-menu-backdrop hidden"></div>
+  <header>
+    <button id="logoMenuBtn" class="logo-button" type="button"><img src="assets/logo.png" class="logo" alt="logo"></button>
+    <div class="title-container"><h1><a href="index.html" class="site-home-link">Instituo Serperior</a></h1><h2>Pok√©mons Criados</h2></div>
+  </header>
+  <main class="created-main">
+    <div id="createdList" class="created-list"></div>
+  </main>
+</body>
+</html>
diff --git a/creation.html b/creation.html
index 71fc4cea067d31fbc06d0b354f1506f63d97caef..fc74628a0e479851a71b0c6e8b035350d4e7f977 100644
--- a/creation.html
+++ b/creation.html
@@ -1,228 +1,151 @@
 <!DOCTYPE html>
 <html lang="pt-br">
 <head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Cria√ß√£o Pok√©mon</title>
   <link rel="stylesheet" href="css/pokemon.css">
   <link rel="stylesheet" href="css/creation.css">
   <link rel="icon" href="assets/logo.png">
   <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
   <script type="module" src="js/creation.js"></script>
 </head>
 <body>
   <aside id="sideMenu" class="side-menu" aria-hidden="true">
     <div class="side-menu-header">Menu</div>
     <div class="side-menu-divider"></div>
     <div class="side-menu-actions top">
       <a class="side-menu-btn" href="pokemon.html">Pokedex</a>
       <a class="side-menu-btn" href="moves.html">Lista de golpes</a>
       <a class="side-menu-btn" href="creation.html">Cria√ß√£o</a>
+      <a class="side-menu-btn" href="created-pokemons.html">Pok√©mons Criados</a>
       <a class="side-menu-btn" href="favoritos.html">Favorito</a>
     </div>
     <button class="side-menu-btn side-menu-login" type="button">Logar</button>
   </aside>
   <div id="sideMenuBackdrop" class="side-menu-backdrop hidden"></div>
 
   <header>
     <button id="logoMenuBtn" class="logo-button" type="button" aria-label="Abrir menu lateral">
       <img src="assets/logo.png" class="logo" alt="Instituo Serperior">
     </button>
     <div class="title-container">
       <h1><a href="index.html" class="site-home-link">Instituo Serperior</a></h1>
       <h2>Cria√ß√£o</h2>
     </div>
   </header>
 
-  <div class="mobile-tabs" role="tablist" aria-label="Se√ß√µes mobile">
-    <button class="mobile-tab-btn active" type="button" data-mobile-tab-target="detalhes">Detalhes</button>
-    <button class="mobile-tab-btn" type="button" data-mobile-tab-target="golpes">Golpes</button>
-    <button class="mobile-tab-btn" type="button" data-mobile-tab-target="atributos">Atributos</button>
-    <button class="mobile-tab-btn" type="button" data-mobile-tab-target="ficha">Ficha</button>
-    <button class="mobile-tab-btn" type="button" data-mobile-tab-target="radars">Radars</button>
-  </div>
-
   <main class="creation-layout">
     <section class="builder-panel">
       <div class="mode-switch" role="tablist" aria-label="Modo de cria√ß√£o">
         <button class="mode-btn active" data-mode="wild" type="button">Pok√©mon Selvagem</button>
         <button class="mode-btn" data-mode="trained" type="button">Pok√©mon Adestrado</button>
-        <button class="mode-btn" data-mode="quick" type="button">Gera√ß√£o R√°pida</button>
+        <button class="mode-btn" data-mode="quick" type="button">Gera√ß√£o</button>
       </div>
 
-      <div class="builder-block search-block" data-mobile-tab="detalhes">
+      <div class="builder-block">
         <h3>Esp√©cie</h3>
         <div class="search-controls">
           <input id="speciesSearch" type="text" placeholder="Nome ou ID do Pok√©mon" autocomplete="off">
           <button id="speciesSearchBtn" type="button">Buscar</button>
         </div>
         <div id="speciesPreview" class="search-preview"></div>
       </div>
 
-      <div id="trainedControls" class="builder-block mode-only" data-mode-only="trained" data-mobile-tab="detalhes" hidden>
-        <h3>Regras de Adestrado</h3>
-        <div class="compact-two-grid">
-          <label>Apelido (opcional)
-            <input id="nicknameInput" type="text" maxlength="30" placeholder="Ex.: Tempestade">
-          </label>
-          <label>Lealdade (0 a 4)
-            <input id="loyaltyInput" type="number" min="0" max="4" value="0">
-          </label>
+      <div class="builder-block" id="detailsBlock" hidden>
+        <h3>DETALHES</h3>
+        <div id="trainedRow1" class="details-grid two">
+          <label>Apelido (Opcional)<input id="nicknameInput" maxlength="30" placeholder="Ex.: Tempestade"></label>
+          <label>Nv.<input id="levelInput" type="number" min="1" max="100" value="5"></label>
         </div>
-      </div>
-
-      <div class="builder-block" id="basicControls" data-mobile-tab="detalhes" hidden>
-        <h3>Detalhes</h3>
-        <div class="details-header-row">
-          <label class="compact-level">N√≠vel
-            <input id="levelInput" type="number" min="1" max="100" value="5">
-          </label>
-          <div class="abilities-launcher">
-            <span>Habilidades</span>
-            <button id="openAbilitiesModalBtn" type="button">Selecionar habilidades</button>
-            <small id="abilitiesSummary"></small>
+        <div id="wildRow1" class="details-grid one" hidden>
+          <label>Nv.<input id="levelInputWild" type="number" min="1" max="100" value="5"></label>
+        </div>
+        <div id="trainedRow2" class="details-grid two">
+          <div>
+            <span>Lealdade</span>
+            <div id="loyaltyBlocks" class="loyalty-blocks" aria-label="Lealdade"></div>
           </div>
+          <div><span>Habilidades</span><button id="openAbilitiesModalBtn" type="button">Habilidades</button></div>
         </div>
-
-        <div id="genderButtons" class="icon-toggle-row" aria-label="G√™nero"></div>
-
-        <div class="icon-toggle-row">
-          <button id="shinyToggle" class="icon-toggle" type="button" aria-pressed="false" title="Shiny">
-            <img src="assets/forms/shiny.png" alt="Shiny">
-            <span>Shiny</span>
-          </button>
-          <button id="alphaToggle" class="icon-toggle" type="button" aria-pressed="false" title="Alpha">
-            <img src="assets/icons/alpha.png" alt="Alpha">
-            <span>Alpha</span>
-          </button>
+        <div class="details-grid three">
+          <div><span>G√™nero</span><button id="genderDropdownBtn" type="button">G√™nero: ‚Äî</button></div>
+          <button id="shinyToggle" class="icon-toggle" type="button"><img src="assets/forms/shiny.png" alt="Shiny"><span>Shiny</span></button>
+          <button id="alphaToggle" class="icon-toggle" type="button"><img src="assets/icons/alpha.png" alt="Alpha"><span>Alpha</span></button>
+        </div>
+        <div id="ballBlock" class="details-grid one" hidden>
+          <span>Pokebola capturada</span>
+          <div id="pokeballGrid" class="pokeball-grid"></div>
+        </div>
+        <div id="xpControls" class="details-grid xp-grid" hidden>
+          <label>XP ganho<input id="xpInput" type="number" min="0" step="5" value="0"></label>
+          <button id="addXpBtn" type="button">Adicionar XP</button>
         </div>
-
-        <label>Natureza
-          <select id="natureSelect"></select>
-        </label>
       </div>
 
-      <div id="wildControls" class="builder-block mode-only" data-mode-only="wild" data-mobile-tab="detalhes" hidden>
-        <h3>Regras de Selvagem</h3>
-        <p class="helper-text">Distribui√ß√£o autom√°tica por rela√ß√£o basal.</p>
+      <div class="builder-block" id="natureBlock" hidden>
+        <h3>NATUREZA</h3>
+        <select id="natureSelect"></select>
       </div>
 
-      <div id="quickControls" class="builder-block mode-only" data-mode-only="quick" data-mobile-tab="detalhes" hidden>
-        <h3>Gera√ß√£o R√°pida</h3>
+      <div class="builder-block" id="quickControls" hidden>
+        <h3>Gera√ß√£o</h3>
         <button id="quickGenerateBtn" type="button">Gerar configura√ß√£o aleat√≥ria</button>
       </div>
 
-      <div class="builder-block moves-selectors" id="movesSection" data-mobile-tab="golpes" hidden>
-        <h3>Golpes</h3>
+      <div class="builder-block" id="movesSection" hidden>
+        <h3>Selecionar golpes</h3>
         <div class="move-builder-grid">
-          <div>
-            <h4>Level Moves (m√°x. 4)</h4>
-            <div class="inline-row">
-              <select id="levelMoveSelect"></select>
-              <button id="addLevelMoveBtn" type="button">Adicionar</button>
-            </div>
-            <ul id="levelMoveSlots" class="move-slots"></ul>
-          </div>
-          <div>
-            <h4>TM / Tutor / Egg (m√°x. 4)</h4>
-            <div class="inline-row">
-              <select id="tmMoveSelect"></select>
-              <button id="addTmMoveBtn" type="button">Adicionar</button>
-            </div>
-            <ul id="tmMoveSlots" class="move-slots"></ul>
-          </div>
+          <div><h4>Level up</h4><div id="levelMovesList" class="moves-list"></div></div>
+          <div><h4>TM/Tutor/Egg</h4><div id="tmMovesList" class="moves-list"></div></div>
         </div>
       </div>
     </section>
 
-    <section class="sheet-panel" data-mobile-tab="ficha">
-      <h3>Ficha</h3>
+    <section class="sheet-panel">
+      <h3>FICHA</h3>
       <div id="sheetEmpty">Selecione um Pok√©mon para come√ßar.</div>
       <div id="sheetContent" hidden>
-        <div class="sheet-head">
-          <img id="sheetSprite" alt="Pok√©mon selecionado">
-          <div>
-            <strong id="sheetName"></strong>
-            <p id="sheetMeta"></p>
-            <p id="sheetModeLabel"></p>
-            <p id="sheetLoyalty"></p>
-          </div>
-          <button id="sheetCryBtn" class="cry-mini" type="button">Choro</button>
-        </div>
-
-        <div class="sheet-info-grid">
-          <div><strong>Tipos:</strong> <span id="sheetTypes"></span></div>
-          <div><strong>Propor√ß√µes:</strong> <span id="sheetSize"></span></div>
-          <div><strong>Grupo reprodutor:</strong> <span id="sheetEggGroups"></span></div>
-        </div>
-
-        <div class="type-relations">
-          <div><h4>Fraquezas</h4><div id="weaknesses" class="icon-list"></div></div>
-          <div><h4>Resist√™ncias</h4><div id="resistances" class="icon-list"></div></div>
-          <div><h4>Imunidades</h4><div id="immunities" class="icon-list"></div></div>
-        </div>
-
-        <div class="capacities-wrapper">
-          <div class="capacity"><span class="capacity-title">INTELIG√äNCIA</span><span class="capacity-value" id="cap-int">0</span><span class="capacity-label" id="cap-int-label"></span></div>
-          <div class="capacity"><span class="capacity-title">FOR√áA</span><span class="capacity-value" id="cap-str">0</span><span class="capacity-label" id="cap-str-label"></span></div>
-          <div class="capacity"><span class="capacity-title">DESLOCAMENTO</span><span class="capacity-value" id="cap-mov">0</span><span class="capacity-label" id="cap-mov-label"></span></div>
-        </div>
-
-        <div class="stats-columns" data-mobile-tab="atributos">
-          <div>
-            <h4>Atributos Basais</h4>
-            <ul id="baseStatsList" class="stat-list"></ul>
-          </div>
-          <div>
-            <h4>Pontos por n√≠vel</h4>
-            <ul id="levelStatsList" class="stat-list"></ul>
+        <div class="sheet-top-grid">
+          <div class="sheet-left">
+            <div class="sprite-wrap" id="spriteWrap">
+              <img id="sheetSprite" alt="Pok√©mon selecionado">
+              <img id="sheetBallIcon" class="corner ball" alt="pokebola" hidden>
+              <div class="corner right-stack"><img id="sheetShinyIcon" src="assets/forms/shiny.png" alt="shiny" hidden><img id="sheetAlphaIcon" src="assets/icons/alpha.png" alt="alpha" hidden></div>
+            </div>
+            <div class="xp-bar"><span id="xpFill"></span></div>
+            <small id="xpText"></small>
           </div>
           <div>
-            <h4>Atributos Finais</h4>
-            <ul id="finalStatsList" class="stat-list"></ul>
+            <div class="dex-line"><span id="sheetDex"></span><strong id="sheetName"></strong><span id="sheetLevel"></span></div>
+            <small id="speciesSubname"></small>
+            <div id="sheetTypes" class="types-block"></div>
+            <hr>
+            <div class="relations-grid"><div><h4>Fraquezas</h4><div id="weaknesses" class="icon-list"></div></div><div><h4>Resist√™ncias</h4><div id="resistances" class="icon-list"></div></div><div><h4>Imunidades</h4><div id="immunities" class="icon-list"></div></div></div>
           </div>
         </div>
 
-        <div id="natureTaste" class="builder-block mini"></div>
+        <h4>Capacidades</h4><div id="capacities" class="capacities-wrapper"></div>
 
-        <div class="health-bars">
-          <div class="hp-item">
-            <span>[HP total]</span>
-            <div class="hp-bar hp1"><span id="hp1Fill"></span></div>
-            <small id="hp1Text"></small>
-          </div>
-          <div class="hp-item">
-            <span>[HP R√°pido]</span>
-            <div class="hp-bar hp2"><span id="hp2Fill"></span></div>
-            <small id="hp2Text"></small>
-          </div>
-        </div>
+        <h4>Atributos</h4><div id="statsCompact" class="stats-compact"></div>
+        <div class="radar-actions"><button type="button" id="openBaseRadarBtn">Radar atributos basais</button><button type="button" id="openContestRadarBtn">Radar de concurso</button></div>
 
-        <h4>Golpes selecionados</h4>
-        <ul id="selectedMovesOutput" class="move-output"></ul>
+        <div class="health-bars"><div><span>HP Total</span><div class="hp-bar"><span id="hpTotalFill"></span></div><small id="hpTotalText"></small></div><div><span>HP R√°pido</span><div class="hp-bar red"><span id="hpQuickFill"></span></div><small id="hpQuickText"></small></div></div>
 
-        <div class="radars-wrap" data-mobile-tab="radars">
-          <canvas id="statsRadar" width="220" height="220"></canvas>
-          <canvas id="contestRadar" width="220" height="220"></canvas>
-        </div>
+        <h4>Golpes selecionados</h4><div id="selectedMovesOutput" class="selected-moves"></div>
 
-        <div class="actions-row">
-          <button id="copySheetBtn" type="button">Copiar ficha</button>
-          <button id="copyMovesBtn" type="button">Copiar golpes</button>
-          <button id="saveJsonBtn" type="button">Salvar JSON</button>
-        </div>
+        <div class="actions-row"><button id="copySheetBtn" type="button">Copiar ficha</button><button id="copyMovesBtn" type="button">Copiar golpes</button><button id="savePokemonBtn" type="button">Salvar</button></div>
       </div>
+
+      <aside id="infoTab" class="info-tab" hidden></aside>
     </section>
   </main>
 
-  <dialog id="abilitiesModal" class="sheet-modal">
-    <div class="modal-head"><h3>Selecionar habilidades</h3><button data-close-modal="abilitiesModal" type="button">‚úï</button></div>
-    <div id="abilitiesModalBody"></div>
-  </dialog>
-
-  <dialog id="moveDetailsModal" class="sheet-modal">
-    <div class="modal-head"><h3 id="moveModalTitle">Detalhes do golpe</h3><button data-close-modal="moveDetailsModal" type="button">‚úï</button></div>
-    <div id="moveDetailsBody"></div>
-  </dialog>
+  <dialog id="abilitiesModal" class="sheet-modal"><div class="modal-head"><h3>Habilidades</h3><button data-close-modal="abilitiesModal" type="button">‚úï</button></div><div id="abilitiesModalBody"></div></dialog>
+  <dialog id="moveDetailsModal" class="sheet-modal"><div class="modal-head" id="moveModalHeader"><h3 id="moveModalTitle">Detalhes</h3><button data-close-modal="moveDetailsModal" type="button">‚úï</button></div><div id="moveDetailsBody"></div></dialog>
+  <dialog id="genderModal" class="sheet-modal"><div class="modal-head"><h3>Selecionar g√™nero</h3><button data-close-modal="genderModal" type="button">‚úï</button></div><div id="genderOptions"></div></dialog>
+  <dialog id="baseRadarModal" class="sheet-modal"><div class="modal-head"><h3>Radar de atributos basais</h3><button data-close-modal="baseRadarModal" type="button">‚úï</button></div><div class="radar-modal-body"><canvas id="statsRadar" width="350" height="320"></canvas><div id="radarNumbers"></div></div></dialog>
+  <dialog id="contestRadarModal" class="sheet-modal"><div class="modal-head"><h3>Radar de concurso</h3><button data-close-modal="contestRadarModal" type="button">‚úï</button></div><div class="radar-modal-body"><div id="muffinBox"></div><canvas id="contestRadar" width="350" height="320"></canvas><div id="contestNumbers"></div></div></dialog>
+  <dialog id="imageCropModal" class="sheet-modal"><div class="modal-head"><h3>Imagem personalizada</h3><button data-close-modal="imageCropModal" type="button">‚úï</button></div><div class="crop-body"><input id="customImageInput" type="file" accept="image/png,image/jpeg,image/gif"><label>Zoom<input id="cropZoom" type="range" min="1" max="2.2" step="0.1" value="1"></label><label>Posi√ß√£o X<input id="cropX" type="range" min="-120" max="120" step="1" value="0"></label><label>Posi√ß√£o Y<input id="cropY" type="range" min="-120" max="120" step="1" value="0"></label><div class="crop-preview"><img id="cropPreviewImg" alt="preview"></div><button id="saveCropBtn" type="button">Salvar imagem</button></div></dialog>
 </body>
 </html>
diff --git a/css/created-pokemons.css b/css/created-pokemons.css
new file mode 100644
index 0000000000000000000000000000000000000000..83a4fa2a116ff0416a71bd984767e8cb3525f69a
--- /dev/null
+++ b/css/created-pokemons.css
@@ -0,0 +1,8 @@
+.created-main{padding:14px;max-width:1000px;margin:0 auto}
+.created-list{display:grid;gap:10px}
+.created-item{display:grid;grid-template-columns:64px minmax(0,1fr) auto;gap:10px;align-items:center;background:#102117;border:1px solid #2f6b44;border-radius:10px;padding:8px}
+.created-item img{width:56px;height:56px;object-fit:contain;border:1px solid #2f6b44;border-radius:8px;background:#0b1611}
+.created-item h4,.created-item p{margin:0;font-family:Pixel}
+.created-actions{display:grid;gap:6px}
+.created-actions button,.created-actions a{font-family:Pixel;border:1px solid #7bdc65;background:#163321;color:#fff;border-radius:8px;padding:6px;text-decoration:none;text-align:center}
+@media(max-width:700px){.created-item{grid-template-columns:1fr}.created-actions{grid-template-columns:1fr 1fr}}
diff --git a/css/creation.css b/css/creation.css
index 32176d5c5f98fa218a42ce2293cc84ff2b02a64c..751ef2a6b6cc25e4cd91e3ff8110f5f72a3ccc42 100644
--- a/css/creation.css
+++ b/css/creation.css
@@ -1,70 +1,39 @@
-* { box-sizing: border-box; }
-.creation-layout { display: grid; grid-template-columns: 1.1fr 1fr; gap: 16px; padding: 16px; max-width: 100%; overflow-x: hidden; }
-.builder-panel,.sheet-panel { background: linear-gradient(180deg, #16291f, #0d1712); border: 2px solid #2f6b44; border-radius: 14px; padding: 14px; box-shadow: 0 0 12px #000; min-width: 0; }
-.mode-switch,.mobile-tabs { display: flex; gap: 8px; flex-wrap: wrap; margin-bottom: 12px; }
-.mobile-tabs { padding: 0 16px; display: none; }
-.mode-btn,.builder-block button,.actions-row button,.inline-row button,.mobile-tab-btn { border: 1px solid #7bdc65; background: #163321; color: #fff; border-radius: 8px; padding: 8px 10px; font-family: Pixel; cursor: pointer; }
-.mode-btn.active,.mobile-tab-btn.active,.icon-toggle.active { background: #2b6a3e; box-shadow: 0 0 10px rgba(123,220,101,.6); }
-.builder-block { border: 1px solid rgba(123,220,101,.5); border-radius: 10px; padding: 10px; margin-bottom: 10px; }
-.builder-block h3,.sheet-panel h3,.sheet-panel h4 { margin: 0 0 8px; font-family: Pixel; color: #7bdc65; }
-label,.helper-text,.sheet-panel,input,select,button,small,span,p,strong,li { font-family: Pixel; }
-input,select { width: 100%; margin-top: 4px; margin-bottom: 8px; background: #08110d; color: #fff; border: 1px solid #2f6b44; border-radius: 8px; padding: 8px; min-width: 0; }
-.search-controls,.inline-row,.details-header-row,.compact-two-grid,.sheet-info-grid { display: grid; gap: 8px; align-items: end; }
-.search-controls { grid-template-columns: minmax(0,1fr) auto; }
-.search-preview { margin-top: 8px; max-height: 220px; overflow-y: auto; border: 1px solid rgba(123,220,101,.3); border-radius: 8px; }
-.preview-item { width: 100%; text-align: left; display: flex; align-items: center; gap: 8px; margin: 0; border-radius: 0; border: none; border-bottom: 1px solid rgba(123,220,101,.2); background: transparent; padding: 8px; }
-.preview-item img { width: 36px; height: 36px; }
-.compact-two-grid { grid-template-columns: repeat(2,minmax(0,1fr)); }
-.details-header-row { grid-template-columns: 90px minmax(0,1fr); }
-.compact-level input { width: 72px; text-align: center; }
-.icon-toggle-row { display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 8px; }
-.icon-toggle { display: inline-flex; align-items: center; gap: 6px; padding: 6px 10px; }
-.icon-toggle img { width: 20px; height: 20px; object-fit: contain; }
-.icon-toggle.active { box-shadow: 0 0 12px rgba(255, 236, 130, .85); border-color: #ffe774; }
-.abilities-launcher small { display: block; color: #c8e7c0; margin-top: 4px; }
-.move-builder-grid,.stats-columns { display: grid; grid-template-columns: repeat(2,minmax(0,1fr)); gap: 8px; }
-.stats-columns { grid-template-columns: repeat(3,minmax(0,1fr)); }
-.stat-list,.move-slots,.move-output,.icon-list { list-style: none; margin: 0; padding: 0; }
-.stat-list li,.move-slots li,.move-output li { background: rgba(255,255,255,.04); border: 1px solid rgba(123,220,101,.3); border-radius: 6px; padding: 6px; margin-bottom: 6px; }
-.move-output li { cursor: pointer; }
-.move-output li:hover { border-color: #7bdc65; }
-.stat-positive { color: #77b6ff; } .stat-negative { color: #ff7272; }
-.sheet-head { display: flex; gap: 10px; margin-bottom: 10px; align-items: center; }
-.sheet-head img { width: 110px; }
-.cry-mini { margin-left: auto; }
-.sheet-info-grid { grid-template-columns: repeat(3,minmax(0,1fr)); margin-bottom: 8px; }
-.sheet-info-grid img,.icon-list img,#sheetTypes img { width: 24px; height: 24px; object-fit: contain; }
-#sheetTypes { display: inline-flex; gap: 4px; }
-.type-relations { display: grid; grid-template-columns: repeat(3,minmax(0,1fr)); gap: 8px; }
-.icon-list { display: flex; gap: 4px; flex-wrap: wrap; }
-.capacities-wrapper { display: grid; grid-template-columns: repeat(3,minmax(0,1fr)); gap: 8px; margin: 10px 0; }
-.capacity { border: 1px solid rgba(123,220,101,.3); border-radius: 8px; padding: 6px; text-align: center; }
-.capacity-title { font-size: 10px; display: block; }
-.capacity-value { font-size: 22px; color: #7bdc65; display: block; }
-.capacity-label { font-size: 11px; opacity: .9; }
-.health-bars { display: grid; grid-template-columns: repeat(2,minmax(0,1fr)); gap: 10px; margin: 10px 0; }
-.hp-bar { background: #1d2520; border: 1px solid #324c3a; border-radius: 999px; height: 16px; overflow: hidden; }
-.hp-bar span { display: block; height: 100%; width: 100%; } .hp1 span { background: linear-gradient(90deg,#23ab3a,#89db76);} .hp2 span { background: linear-gradient(90deg,#bf2a3a,#f56e6e);}
-.radars-wrap { display: grid; grid-template-columns: repeat(2,minmax(0,1fr)); gap: 8px; margin-top: 10px; }
-.radars-wrap canvas { width: 100% !important; max-width: 260px; height: 220px !important; background: rgba(0,0,0,.2); border-radius: 8px; padding: 6px; }
-.actions-row { display: flex; gap: 8px; flex-wrap: wrap; margin-top: 10px; }
-.sheet-modal { width: min(700px, 96vw); border: 1px solid #7bdc65; border-radius: 12px; background: #102117; color: #fff; padding: 0; }
-.sheet-modal::backdrop { background: rgba(0,0,0,.65); }
-.modal-head { display: flex; justify-content: space-between; align-items: center; padding: 10px; border-bottom: 1px solid #2f6b44; }
-#abilitiesModalBody,#moveDetailsBody { padding: 10px; max-height: 70vh; overflow-y: auto; }
-.ability-option { border: 1px solid rgba(123,220,101,.35); border-radius: 8px; padding: 8px; margin-bottom: 8px; }
-.ability-buttons { display: flex; gap: 6px; margin-top: 6px; }
-.move-table { width: 100%; border-collapse: collapse; }
-.move-table th,.move-table td { border-bottom: 1px solid rgba(123,220,101,.25); padding: 4px; text-align: left; font-size: 12px; }
-.alloc-input { width: 52px; padding: 4px; margin-left: 6px; }
-.nature-pill { color:#7bdc65; }
-@media (max-width: 1000px) {
-  .creation-layout { grid-template-columns: 1fr; }
-  .stats-columns,.move-builder-grid,.health-bars,.compact-two-grid,.sheet-info-grid,.capacities-wrapper,.type-relations,.radars-wrap { grid-template-columns: 1fr; }
-  .mobile-tabs { display: flex; }
-  .creation-layout [data-mobile-tab] { display: none; }
-  .creation-layout [data-mobile-tab].mobile-visible { display: block; }
-  .sheet-panel[data-mobile-tab="ficha"].mobile-visible { display: block; }
-  .builder-panel,.sheet-panel { padding: 10px; }
-  .sheet-modal { margin: auto 0 0; width: 100vw; max-width: 100vw; border-radius: 14px 14px 0 0; }
-}
+*{box-sizing:border-box} body{overflow-x:hidden}
+.creation-layout{display:grid;grid-template-columns:1.05fr 1fr;gap:12px;padding:12px;max-width:1400px;margin:0 auto}
+.builder-panel,.sheet-panel{background:#102117;border:1px solid #2f6b44;border-radius:12px;padding:12px;min-width:0}
+.mode-switch{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:6px;margin-bottom:10px}
+.mode-btn{font-size:11px;padding:8px 6px;white-space:nowrap}
+.mode-btn,.builder-block button,.actions-row button,.radar-actions button{border:1px solid #7bdc65;background:#163321;color:#fff;border-radius:8px;font-family:Pixel;cursor:pointer}
+.mode-btn.active,.icon-toggle.active{background:#2a6a3f}
+.builder-block{border:1px solid rgba(123,220,101,.35);border-radius:10px;padding:10px;margin-bottom:8px}
+.builder-block h3,.sheet-panel h3,h4{font-family:Pixel;color:#7bdc65;margin:0 0 8px}
+input,select{width:100%;max-width:100%;background:#09120d;color:#fff;border:1px solid #2f6b44;border-radius:8px;padding:8px;font-family:Pixel}
+.search-controls{display:grid;grid-template-columns:minmax(0,1fr) auto;gap:8px}
+.search-preview{margin-top:8px;max-height:220px;overflow:auto;border:1px solid rgba(123,220,101,.3);border-radius:8px}
+.preview-item{display:flex;align-items:center;gap:8px;width:100%;background:transparent;border:none;border-bottom:1px solid rgba(123,220,101,.2);color:#fff;padding:8px;text-align:left}
+.preview-item img{width:28px;height:28px}
+.details-grid{display:grid;gap:8px;align-items:end;margin-bottom:8px}.details-grid.two{grid-template-columns:repeat(2,minmax(0,1fr))}.details-grid.three{grid-template-columns:1.4fr 1fr 1fr}.details-grid.one{grid-template-columns:1fr}
+.loyalty-blocks button{border:none;background:transparent;color:#fff;font-size:24px;padding:2px 3px;cursor:pointer}
+.icon-toggle{display:inline-flex;align-items:center;justify-content:center;gap:5px;padding:8px}.icon-toggle img{width:18px;height:18px}
+.pokeball-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(56px,1fr));gap:6px}.ball-btn{padding:6px;min-height:50px}.ball-btn img{width:26px;height:26px}
+.moves-list{display:grid;gap:6px;max-height:280px;overflow:auto}.move-item,.sel-move{padding:7px;border-radius:8px;border:1px solid rgba(255,255,255,.2);font-family:Pixel;cursor:pointer}
+.move-item small{display:block;opacity:.8}
+.sheet-top-grid{display:grid;grid-template-columns:180px minmax(0,1fr);gap:12px}.sprite-wrap{position:relative;width:170px;height:170px;border:3px solid #7bdc65;border-radius:14px;display:grid;place-items:center;overflow:hidden}.sprite-wrap img{max-width:95%;max-height:95%;object-fit:contain}
+.corner{position:absolute;width:28px;height:28px}.corner.ball{top:6px;left:6px}.corner.right-stack{top:6px;right:6px;display:grid;gap:4px}.corner.right-stack img{background:rgba(0,0,0,.45);border-radius:7px;padding:3px}
+.xp-bar{height:12px;background:#1d2520;border:1px solid #365741;border-radius:999px;overflow:hidden;margin-top:8px}.xp-bar span{display:block;height:100%;background:linear-gradient(90deg,#59a2ff,#78e6ff)}
+.dex-line{display:grid;grid-template-columns:80px minmax(0,1fr)80px;align-items:center;text-align:center;font-family:Pixel}.types-block{display:flex;justify-content:center;gap:6px;flex-wrap:wrap}.types-block img{height:28px;max-width:96px}
+.relations-grid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:8px}.icon-list{display:flex;flex-wrap:wrap;gap:4px}.icon-list img{width:24px;height:24px}
+.capacities-wrapper{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:8px}.capacity{border:1px solid rgba(123,220,101,.3);border-radius:8px;padding:6px;text-align:center;font-family:Pixel}
+.stats-compact{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:6px}.stats-compact .cell{border:1px solid rgba(123,220,101,.3);border-radius:8px;padding:6px;font-family:Pixel;font-size:12px}
+.radar-actions{display:flex;gap:6px;flex-wrap:wrap;margin:8px 0}
+.health-bars{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px}.hp-bar{height:14px;background:#1d2520;border:1px solid #324c3a;border-radius:999px;overflow:hidden}.hp-bar span{display:block;height:100%;background:linear-gradient(90deg,#23ab3a,#89db76)}.hp-bar.red span{background:linear-gradient(90deg,#bf2a3a,#f56e6e)}
+.selected-moves{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:6px}.actions-row{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
+.info-tab{margin-top:12px;border-top:1px solid rgba(123,220,101,.35);padding-top:10px;font-family:Pixel}
+.sheet-modal{width:min(760px,96vw);border:1px solid #7bdc65;border-radius:12px;background:#102117;color:#fff;padding:0}
+.sheet-modal::backdrop{background:rgba(0,0,0,.65)}.modal-head{display:flex;justify-content:space-between;align-items:center;padding:10px;border-bottom:1px solid #2f6b44}
+#abilitiesModalBody,#moveDetailsBody,#genderOptions,.radar-modal-body,.crop-body{padding:10px;max-height:70vh;overflow:auto}.ability-option{border:1px solid rgba(123,220,101,.35);border-radius:8px;padding:8px;margin-bottom:8px}.ability-option.hidden{opacity:.65;color:#afafaf}.ability-option.sel1{border-color:#74ea74}.ability-option.sel2{box-shadow:inset 0 0 0 2px #ffdb58}
+.move-modal-type{display:flex;align-items:center;justify-content:center;gap:10px;font-family:Pixel}.move-modal-type img{width:24px}.move-modal-desc{white-space:pre-wrap}
+.crop-preview{width:190px;height:190px;border:1px solid #2f6b44;border-radius:12px;overflow:hidden;display:grid;place-items:center}.crop-preview img{max-width:100%;max-height:100%;transform-origin:center}
+
+@media (max-width:1100px){.creation-layout{grid-template-columns:1fr}.sheet-top-grid{grid-template-columns:1fr}.sprite-wrap{margin:0 auto}}
+@media (max-width:700px){.mode-switch{grid-template-columns:repeat(3,minmax(0,1fr))}.mode-btn{font-size:10px}.details-grid.two,.details-grid.three,.move-builder-grid,.relations-grid,.health-bars,.selected-moves,.capacities-wrapper{grid-template-columns:1fr}.stats-compact{grid-template-columns:1fr}.sheet-modal{width:100vw;max-width:100vw;border-radius:14px 14px 0 0}}
diff --git a/css/pokemon.css b/css/pokemon.css
index f4536b9ae187159715326c6ed60abe44bb530631..2a2d9fc5f84938186714961f3eb46072ca4756e1 100644
--- a/css/pokemon.css
+++ b/css/pokemon.css
@@ -876,25 +876,63 @@ header h2 {
 }
 
 .catalog .pokemon-card .name {
   font-size: 14px;
 }
 
 .catalog .pokemon-card .official-art {
   width: 96px;
   height: 96px;
 }
 
 .catalog .pokemon-card .type-pill {
   font-size: 10px;
   height: 26px;
   padding: 0 8px;
 }
 
 .catalog .pokemon-card .type-icon {
   width: 16px;
   height: 16px;
 }
 
 .catalog .pokemon-card .types {
   flex-wrap: wrap;
 }
+
+.owner-rgb {
+  background: linear-gradient(90deg, #ff4d4d, #ffdb4d, #4dff91, #4dc3ff, #b84dff);
+  -webkit-background-clip: text;
+  color: transparent;
+  animation: ownerHue 2.2s linear infinite;
+}
+@keyframes ownerHue { to { filter: hue-rotate(360deg);} }
+
+.profile-chip { display: inline-flex; align-items: center; gap: 8px; text-align: left; }
+.profile-avatar { width: 32px; height: 32px; border-radius: 50%; object-fit: cover; border: 1px solid #7bdc65; }
+.profile-avatar.fallback { display:grid; place-items:center; background:#0e1f16; }
+.side-menu-login.is-authenticated { padding: 6px 8px; }
+
+.user-menu-panel {
+  position: absolute;
+  z-index: 999;
+  width: min(280px, calc(100vw - 16px));
+  background: #0d1f15;
+  border: 1px solid #2f6b44;
+  border-radius: 10px;
+  box-shadow: 0 10px 22px rgba(0,0,0,.45);
+  padding: 8px;
+}
+.user-menu-link {
+  display: block;
+  width: 100%;
+  text-decoration: none;
+  border: 1px solid rgba(123,220,101,.3);
+  background: #163321;
+  color: #fff;
+  border-radius: 8px;
+  padding: 8px;
+  margin-bottom: 6px;
+  font-family: Pixel;
+  text-align: left;
+}
+.user-menu-link.danger { border-color: #a54242; background: #3a1717; }
diff --git a/index.html b/index.html
index 82dd40d6ce813613e133851e5f231c67a56e9011..3f71ea14be418a9203203b3757a80cf469fe2e00 100644
--- a/index.html
+++ b/index.html
@@ -1,100 +1,48 @@
 <!DOCTYPE html>
 <html lang="pt-br">
 <head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Instituo Serperior</title>
   <link rel="stylesheet" href="css/pokemon.css">
   <style>
-    .home-actions {
-      min-height: calc(100vh - 160px);
-      display: flex;
-      align-items: center;
-      justify-content: center;
-      padding: 24px;
-    }
-
-    .home-actions-grid {
-      display: grid;
-      grid-template-columns: repeat(2, minmax(180px, 280px));
-      gap: 14px;
-      width: 100%;
-      max-width: 620px;
-    }
-
-    .home-action-btn {
-      display: inline-flex;
-      align-items: center;
-      justify-content: center;
-      text-align: center;
-      min-height: 64px;
-      padding: 12px;
-      text-decoration: none;
-      font-family: Pixel;
-      font-size: 14px;
-      background: linear-gradient(180deg, #2f6b44, #1f4d2b);
-      color: #fff;
-      border: 2px solid #7bdc65;
-      border-radius: 10px;
-      box-shadow: 0 0 10px #000;
-    }
-
-    .home-action-btn:hover {
-      box-shadow: 0 0 12px #7bdc65;
-    }
-
-    .home-action-btn.is-disabled {
-      opacity: 0.65;
-      cursor: not-allowed;
-    }
-
-    @media (max-width: 700px) {
-      .home-actions-grid {
-        grid-template-columns: 1fr;
-      }
-    }
+    .home-actions{min-height:calc(100vh - 160px);display:flex;align-items:center;justify-content:center;padding:24px}
+    .home-actions-grid{display:grid;grid-template-columns:repeat(2,minmax(180px,280px));gap:14px;width:100%;max-width:620px}
+    .home-action-btn{display:inline-flex;align-items:center;justify-content:center;text-align:center;min-height:64px;padding:12px;text-decoration:none;font-family:Pixel;font-size:14px;background:linear-gradient(180deg,#2f6b44,#1f4d2b);color:#fff;border:2px solid #7bdc65;border-radius:10px;box-shadow:0 0 10px #000}
+    @media (max-width:700px){.home-actions-grid{grid-template-columns:1fr}}
   </style>
 </head>
 <body>
 <aside id="sideMenu" class="side-menu" aria-hidden="true">
-  <div class="side-menu-header">Menu</div>
-  <div class="side-menu-divider"></div>
+  <div class="side-menu-header">Menu</div><div class="side-menu-divider"></div>
   <div class="side-menu-actions top">
     <a class="side-menu-btn" href="pokemon.html">Pokedex</a>
     <a class="side-menu-btn" href="moves.html">Lista de golpes</a>
-    <button class="side-menu-btn" type="button">Lista de habilidades</button>
-    <a class="side-menu-btn" href="favoritos.html">Favorito</a>
     <a class="side-menu-btn" href="creation.html">Cria√ß√£o</a>
+    <a class="side-menu-btn" href="created-pokemons.html">Pok√©mons Criados</a>
+    <a class="side-menu-btn" href="favoritos.html">Favorito</a>
   </div>
   <button class="side-menu-btn side-menu-login" type="button">Logar</button>
 </aside>
 <div id="sideMenuBackdrop" class="side-menu-backdrop hidden"></div>
-
-  <header>
-    <button id="logoMenuBtn" class="logo-button" type="button" aria-label="Abrir menu lateral">
-      <img src="assets/logo.png" class="logo" alt="Instituo Serperior">
-    </button>
-    <div class="title-container">
-      <h1><a href="index.html" class="site-home-link">Instituo Serperior</a></h1>
-      <h2>Painel</h2>
-    </div>
-  </header>
-
-  <main class="home-actions">
-    <section class="home-actions-grid" aria-label="Menu principal">
-      <a class="home-action-btn" href="pokemon.html">Registro Pok√©mon</a>
-      <a class="home-action-btn" href="moves.html">Registro de Golpes</a>
-      <a class="home-action-btn" href="creation.html">Cria√ß√£o</a>
-      <span class="home-action-btn is-disabled">Registro de Habilidade</span>
-      <span class="home-action-btn is-disabled">Logar</span>
-    </section>
-  </main>
-  <script>
-    const btn = document.getElementById("logoMenuBtn");
-    const menu = document.getElementById("sideMenu");
-    const backdrop = document.getElementById("sideMenuBackdrop");
-    btn?.addEventListener("click", () => { menu?.classList.add("open"); backdrop?.classList.remove("hidden"); menu?.setAttribute("aria-hidden", "false"); });
-    backdrop?.addEventListener("click", () => { menu?.classList.remove("open"); backdrop?.classList.add("hidden"); menu?.setAttribute("aria-hidden", "true"); });
-  </script>
+<header>
+  <button id="logoMenuBtn" class="logo-button" type="button" aria-label="Abrir menu lateral"><img src="assets/logo.png" class="logo" alt="Instituo Serperior"></button>
+  <div class="title-container"><h1><a href="index.html" class="site-home-link">Instituo Serperior</a></h1><h2>Painel</h2></div>
+</header>
+<main class="home-actions">
+  <section class="home-actions-grid" aria-label="Menu principal">
+    <a class="home-action-btn" href="pokemon.html">Registro Pok√©mon</a>
+    <a class="home-action-btn" href="moves.html">Registro de Golpes</a>
+    <a class="home-action-btn" href="creation.html">Criar pok√©mon</a>
+    <a class="home-action-btn" href="created-pokemons.html">Pok√©mons criados</a>
+  </section>
+</main>
+<script type="module">
+  import { initAuthUI } from './js/auth.js';
+  const btn=document.getElementById('logoMenuBtn'),menu=document.getElementById('sideMenu'),backdrop=document.getElementById('sideMenuBackdrop');
+  btn?.addEventListener('click',()=>{menu?.classList.add('open');backdrop?.classList.remove('hidden');});
+  backdrop?.addEventListener('click',()=>{menu?.classList.remove('open');backdrop?.classList.add('hidden');});
+  initAuthUI({linksProvider:()=>({creation:'creation.html',created:'created-pokemons.html'})});
+</script>
 </body>
 </html>
diff --git a/js/auth.js b/js/auth.js
new file mode 100644
index 0000000000000000000000000000000000000000..0f03a522160ac4482e0190f19c40d1423e870574
--- /dev/null
+++ b/js/auth.js
@@ -0,0 +1,125 @@
+import { clearProfile, getProfile, saveProfile } from './storage.js';
+
+function rgbNameMarkup(name) {
+  return `<span class="owner-rgb">${name}</span>`;
+}
+
+function profileItemHTML(profile) {
+  const owner = profile.isOwner || profile.nick === 'kaykecoml';
+  return `
+    <div class="profile-chip">
+      ${profile.avatar ? `<img src="${profile.avatar}" alt="avatar" class="profile-avatar">` : '<div class="profile-avatar fallback">üë§</div>'}
+      <div>
+        <strong>${owner ? rgbNameMarkup(profile.nick) : profile.nick}</strong>
+        <small>Conectado localmente</small>
+      </div>
+    </div>`;
+}
+
+function ensureAuthModal() {
+  if (document.getElementById('authModal')) return;
+  const dialog = document.createElement('dialog');
+  dialog.id = 'authModal';
+  dialog.className = 'sheet-modal';
+  dialog.innerHTML = `
+    <div class="modal-head"><h3>Login local</h3><button type="button" data-close-modal="authModal">‚úï</button></div>
+    <div class="auth-modal-body">
+      <label>Nick personalizado<input id="authNickInput" maxlength="30" placeholder="Seu nick"></label>
+      <label>Imagem de perfil<input id="authAvatarInput" type="file" accept="image/png,image/jpeg,image/gif"></label>
+      <div class="inline-row">
+        <button id="authSaveBtn" type="button">Entrar</button>
+        <button id="authCancelBtn" type="button">Cancelar</button>
+      </div>
+      <p class="helper-text">Fase 2: este m√≥dulo j√° est√° preparado para no futuro trocar por OAuth2 do Discord sem quebrar o fluxo local.</p>
+    </div>`;
+  document.body.appendChild(dialog);
+}
+
+async function fileToDataUrl(file) {
+  return new Promise((resolve, reject) => {
+    const reader = new FileReader();
+    reader.onload = () => resolve(String(reader.result || ''));
+    reader.onerror = reject;
+    reader.readAsDataURL(file);
+  });
+}
+
+function buildUserMenu(getLinks) {
+  const existing = document.getElementById('userMenuPanel');
+  if (existing) existing.remove();
+  const panel = document.createElement('div');
+  panel.id = 'userMenuPanel';
+  panel.className = 'user-menu-panel hidden';
+  const links = getLinks?.() || {};
+  panel.innerHTML = `
+    <button type="button" class="user-menu-link" data-link="characters">Criar personagens</button>
+    <button type="button" class="user-menu-link" data-link="school">Criar escola</button>
+    <a class="user-menu-link" href="${links.creation || 'creation.html'}">Criar pokemons</a>
+    <a class="user-menu-link" href="${links.created || 'created-pokemons.html'}">Pokemons criados</a>
+    <button type="button" class="user-menu-link" data-link="created-characters">Personagens criado</button>
+    <button type="button" class="user-menu-link danger" id="logoutBtn">Sair</button>`;
+  document.body.appendChild(panel);
+  panel.querySelectorAll('button[data-link]').forEach((btn) => btn.addEventListener('click', () => alert('Placeholder nesta fase.')));
+  panel.querySelector('#logoutBtn')?.addEventListener('click', () => {
+    clearProfile();
+    window.location.reload();
+  });
+  return panel;
+}
+
+export function initAuthUI({ loginSelector = '.side-menu-login', mountSelector = '.side-menu', linksProvider } = {}) {
+  ensureAuthModal();
+  const loginBtn = document.querySelector(loginSelector);
+  const mount = document.querySelector(mountSelector) || document.body;
+  const profile = getProfile();
+  const panel = buildUserMenu(linksProvider);
+
+  function refreshBtn() {
+    const current = getProfile();
+    if (!loginBtn) return;
+    if (current) {
+      loginBtn.innerHTML = profileItemHTML(current);
+      loginBtn.classList.add('is-authenticated');
+    } else {
+      loginBtn.textContent = 'Logar';
+      loginBtn.classList.remove('is-authenticated');
+    }
+  }
+
+  refreshBtn();
+
+  loginBtn?.addEventListener('click', () => {
+    const current = getProfile();
+    if (current) {
+      panel.classList.toggle('hidden');
+      const rect = loginBtn.getBoundingClientRect();
+      panel.style.top = `${rect.bottom + window.scrollY + 8}px`;
+      panel.style.left = `${Math.max(8, rect.left + window.scrollX - 120)}px`;
+      return;
+    }
+    const modal = document.getElementById('authModal');
+    modal?.showModal();
+  });
+
+  document.addEventListener('click', (event) => {
+    if (!panel.classList.contains('hidden') && !panel.contains(event.target) && event.target !== loginBtn && !loginBtn?.contains(event.target)) {
+      panel.classList.add('hidden');
+    }
+  });
+
+  document.querySelectorAll('[data-close-modal="authModal"], #authCancelBtn').forEach((btn) => {
+    btn.addEventListener('click', () => document.getElementById('authModal')?.close());
+  });
+
+  document.getElementById('authSaveBtn')?.addEventListener('click', async () => {
+    const nick = document.getElementById('authNickInput')?.value.trim();
+    if (!nick) return alert('Informe um nick.');
+    const file = document.getElementById('authAvatarInput')?.files?.[0];
+    const avatar = file ? await fileToDataUrl(file) : '';
+    saveProfile({ nick, avatar, isOwner: nick === 'kaykecoml' });
+    document.getElementById('authModal')?.close();
+    refreshBtn();
+  });
+
+  mount.appendChild(panel);
+}
diff --git a/js/created-pokemons.js b/js/created-pokemons.js
new file mode 100644
index 0000000000000000000000000000000000000000..d293608e4257aa2868694b026ca0cd650233b5fb
--- /dev/null
+++ b/js/created-pokemons.js
@@ -0,0 +1,6 @@
+import { initAuthUI } from './auth.js';
+import { deleteCreatedPokemon, getCreatedPokemonsByNick, getProfile } from './storage.js';
+const $=(id)=>document.getElementById(id);
+function setupMenu(){const btn=$('logoMenuBtn'),m=$('sideMenu'),b=$('sideMenuBackdrop');btn.onclick=()=>{m.classList.add('open');b.classList.remove('hidden')};b.onclick=()=>{m.classList.remove('open');b.classList.add('hidden')}}
+function render(){const profile=getProfile();if(!profile){$('createdList').innerHTML='<p class="name">Fa√ßa login para ver seus pok√©mons criados.</p>';return;}const list=getCreatedPokemonsByNick(profile.nick);if(!list.length){$('createdList').innerHTML='<p class="name">Nenhum pok√©mon salvo.</p>';return;}$('createdList').innerHTML=list.map((i)=>`<article class="created-item"><img src="${i.data.customImage||i.data.pokemon?.sprites?.front_default||''}" alt="${i.data.pokemon?.name||'pokemon'}"><div><h4>${i.data.nickname||i.data.pokemon?.name||'Pok√©mon'} (#${String(i.data.pokemon?.id||0).padStart(4,'0')})</h4><p>N√≠vel ${i.data.level} | ${i.data.mode==='trained'?'Adestrado':'Selvagem'} ${i.data.shiny?'| shiny':''} ${i.data.alpha?'| alpha':''}</p><p>${new Date(i.createdAt).toLocaleString('pt-BR')}</p></div><div class="created-actions"><a href="creation.html?id=${i.id}">Abrir</a><button data-del="${i.id}">Excluir</button></div></article>`).join('');document.querySelectorAll('[data-del]').forEach((b)=>b.onclick=()=>{deleteCreatedPokemon(b.dataset.del);render();});}
+setupMenu();initAuthUI({linksProvider:()=>({creation:'creation.html',created:'created-pokemons.html'})});render();
diff --git a/js/creation.js b/js/creation.js
index cc428032db59ae46b31cd26d820f612705580aa8..7081466995eab80a93736bee88af7d139c5b13bb 100644
--- a/js/creation.js
+++ b/js/creation.js
@@ -1,69 +1,79 @@
-import { powerToDamage } from "./utils.js";
-import { abilitiesData } from "./abilities.js";
+import { powerToDamage, accuracyToRPG, ppToRPG } from './utils.js';
+import { abilitiesData } from './abilities.js';
+import { initAuthUI } from './auth.js';
+import { getCreatedPokemonById, getProfile, saveCreatedPokemon } from './storage.js';
 
-const VERSION_PRIORITY = ["scarlet-violet", "sword-shield", "ultra-sun-ultra-moon", "sun-moon"];
-const STAT_KEYS = ["hp", "atk", "def", "spatk", "spdef", "spd"];
-const STAT_LABELS = { hp: "Sa√∫de", atk: "Ataque", def: "Defesa", spatk: "sp.atk", spdef: "sp.def", spd: "Velocidade" };
-const state = { mode: "wild", pokemonIndex: [], pokemon: null, species: null, levelMoves: [], tmMoves: [], selectedLevelMoves: [], selectedTmMoves: [], moveCache: new Map(), statsChart: null, contestChart: null, abilitySlots: ["", ""] };
 const $ = (id) => document.getElementById(id);
+const TYPE_COLORS = { normal:'#a8a878', fire:'#f08030', water:'#6890f0', electric:'#f8d030', grass:'#78c850', ice:'#98d8d8', fighting:'#c03028', poison:'#a040a0', ground:'#e0c068', flying:'#a890f0', psychic:'#f85888', bug:'#a8b820', rock:'#b8a038', ghost:'#705898', dragon:'#7038f8', dark:'#705848', steel:'#b8b8d0', fairy:'#ee99ac' };
+const TYPE_BLOCK_ICON = { bug:'bug Type.png', steel:'Steel.png' };
 const NATURES = [["Hardy",null,null,"Estoica","Neutra"],["Lonely","atk","def","Desesperada","Gosta de Picante e n√£o gosta de Azedo"],["Brave","atk","spd","Travessa","Gosta de Picante e n√£o gosta de Doce"],["Adamant","atk","spatk","Solit√°ria","Gosta de Picante e n√£o gosta de Seco"],["Naughty","atk","spdef","Firme","Gosta de Picante e n√£o gosta de Amargo"],["Bold","def","atk","Ousada","Gosta de Azedo e n√£o gosta de Picante"],["Docile",null,null,"D√≥cil","Neutra"],["Relaxed","def","spd","Relaxada","Gosta de Azedo e n√£o gosta de Doce"],["Impish","def","spatk","Orgulhosa","Gosta de Azedo e n√£o gosta de Seco"],["Lax","def","spdef","Exc√™ntrica","Gosta de Azedo e n√£o gosta de Amargo"],["Timid","spd","atk","Medrosa","Gosta de Doce e n√£o gosta de Picante"],["Hasty","spd","def","Apressada","Gosta de Doce e n√£o gosta de Azedo"],["Serious",null,null,"S√©ria","Neutra"],["Jolly","spd","spatk","Alegre","Gosta de Doce e n√£o gosta de Seco"],["Naive","spd","spdef","Ing√™nua","Gosta de Doce e n√£o gosta de Amargo"],["Modest","spatk","atk","T√≠mida","Gosta de Seco e n√£o gosta de Picante"],["Mild","spatk","def","Modesta","Gosta de Seco e n√£o gosta de Azedo"],["Quiet","spatk","spd","Quieta","Gosta de Seco e n√£o gosta de Doce"],["Bashful",null,null,"Comedida","Neutra"],["Rash","spatk","spdef","Am√°vel","Gosta de Seco e n√£o gosta de Amargo"],["Calm","spdef","atk","Enjoada","Gosta de Amargo e n√£o gosta de Picante"],["Gentle","spdef","def","Calma","Gosta de Amargo e n√£o gosta de Azedo"],["Sassy","spdef","spd","Atrevida","Gosta de Amargo e n√£o gosta de Doce"],["Careful","spdef","spatk","Gentil","Gosta de Amargo e n√£o gosta de Seco"],["Quirky",null,null,"Chata","Neutra"]].map(([name,plus,minus,pt,taste])=>({name,plus,minus,pt,taste}));
+const XP_TABLE = {1:0,2:10,3:20,4:30,5:40,6:50,7:60,8:70,9:80,10:90,11:110,12:135,13:160,14:190,15:220,16:250,17:285,18:320,19:360,20:400,21:460,22:530,23:600,24:670,25:745,26:820,27:900,28:990,29:1075,30:1165,31:1260,32:1355,33:1455,34:1555,35:1660,36:1770,37:1880,38:1995,39:2110,40:2230,41:2355,42:2480,43:2610,44:2740,45:2875,46:3015,47:3155,48:3300,49:3445,50:3645,51:3850,52:4060,53:4270,54:4485,55:4705,56:4930,57:5160,58:5390,59:5625,60:5865,61:6110,62:6360,63:6610,64:6865,65:7125,66:7390,67:7660,68:7925,69:8205,70:8485,71:8770,72:9060,73:9350,74:9645,75:9945,76:10250,77:10560,78:10870,79:11185,80:11505,81:11910,82:12320,83:12735,84:13155,85:13580,86:14010,87:14445,88:14885,89:15330,90:15780,91:16235,92:16695,93:17160,94:17630,95:18105,96:18585,97:19070,98:19560,99:20055,100:20555};
+const state = {mode:'wild',index:[],pokemon:null,species:null,moves:{level:[],tm:[]},selectedMoves:[],abilitySelection:[],loyalty:0,gender:null,shiny:false,alpha:false,pokeball:'pokeball',xp:0,muffins:0,customImage:null,crop:{zoom:1,x:0,y:0},baseRadar:null,contestRadar:null};
 
-const convertStat = (v) => (v % 10 >= 9 ? Math.floor(v / 10) + 1 : Math.floor(v / 10));
-const formatName = (name) => name.split("-").map((p) => p[0].toUpperCase() + p.slice(1)).join(" ");
-const notify = (m) => alert(m);
-const capLabel = (v, t) => t[v] || t[Object.keys(t).length - 1];
+const format = (n)=>n.split('-').map((v)=>v[0].toUpperCase()+v.slice(1)).join(' ');
+const statMap = {hp:'hp',attack:'atk',defense:'def','special-attack':'spatk','special-defense':'spdef',speed:'spd'};
 
-function setupMenu(){const btn=$("logoMenuBtn"),menu=$("sideMenu"),backdrop=$("sideMenuBackdrop");btn?.addEventListener("click",()=>{menu?.classList.add("open");backdrop?.classList.remove("hidden");});backdrop?.addEventListener("click",()=>{menu?.classList.remove("open");backdrop?.classList.add("hidden");});}
-async function fetchPokemonIndex(){const r=await fetch("https://pokeapi.co/api/v2/pokemon?limit=1025").then(x=>x.json());state.pokemonIndex=r.results.map((p,i)=>({id:i+1,name:p.name}));}
-function setupModes(){document.querySelectorAll(".mode-btn").forEach((btn)=>btn.addEventListener("click",()=>{state.mode=btn.dataset.mode;document.querySelectorAll(".mode-btn").forEach((e)=>e.classList.toggle("active",e===btn));document.querySelectorAll(".mode-only").forEach((e)=>e.hidden=e.dataset.modeOnly!==state.mode);renderSheet();}));document.querySelector('.mode-btn[data-mode="wild"]').click();}
-function setupMobileTabs(){const tabs=[...document.querySelectorAll(".mobile-tab-btn")];tabs.forEach((b)=>b.addEventListener("click",()=>{tabs.forEach((x)=>x.classList.toggle("active",x===b));const target=b.dataset.mobileTabTarget;document.querySelectorAll("[data-mobile-tab]").forEach((s)=>s.classList.toggle("mobile-visible",s.dataset.mobileTab===target));if(["atributos","radars"].includes(target)) $("sheetContent")?.classList.add("mobile-visible");}));tabs[0]?.click();}
-function setupSearch(){const input=$("speciesSearch");input.addEventListener("input",updatePreview);$("speciesSearchBtn").addEventListener("click",()=>loadSpecies(input.value.trim().toLowerCase()));}
-function updatePreview(){const q=$("speciesSearch").value.trim().toLowerCase(),preview=$("speciesPreview");preview.innerHTML="";if(!q)return;state.pokemonIndex.filter((p)=>p.name.includes(q)||String(p.id).startsWith(q)).slice(0,12).forEach((p)=>{const btn=document.createElement("button");btn.type="button";btn.className="preview-item";btn.innerHTML=`<img src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${p.id}.png" alt="${p.name}"><span>#${String(p.id).padStart(4,"0")} ${formatName(p.name)}</span>`;btn.addEventListener("click",()=>{ $("speciesSearch").value=p.name;preview.innerHTML="";loadSpecies(String(p.id));});preview.appendChild(btn);});}
-const pickVersion = (d) => [...d].sort((a,b)=>VERSION_PRIORITY.indexOf(a.version_group.name)-VERSION_PRIORITY.indexOf(b.version_group.name))[0];
-async function getMove(url){if(state.moveCache.has(url))return state.moveCache.get(url);const d=await fetch(url).then((r)=>r.json());state.moveCache.set(url,d);return d;}
+function setupMenu(){const btn=$('logoMenuBtn'),m=$('sideMenu'),b=$('sideMenuBackdrop');btn.onclick=()=>{m.classList.add('open');b.classList.remove('hidden')};b.onclick=()=>{m.classList.remove('open');b.classList.add('hidden')}}
+function level(){return Number(state.mode==='wild' ? $('levelInputWild').value:$('levelInput').value)||1}
+function xpToLevel(xp){let lv=1;for(let i=1;i<=100;i++){if(xp>=XP_TABLE[i]) lv=i;}return lv}
+function setLevel(newLv){if(state.mode==='wild') $('levelInputWild').value=newLv; else $('levelInput').value=newLv;}
+function initNatures(){const grouped=[...NATURES].sort((a,b)=>(a.plus||'zzz').localeCompare(b.plus||'zzz'));$('natureSelect').innerHTML=grouped.map((n)=>`<option value="${n.name}">${n.pt}${n.plus?` | +2 ${n.plus} / -2 ${n.minus}`:''}</option>`).join('')}
+function activeNature(){return NATURES.find((n)=>n.name===$('natureSelect').value) || NATURES[0]}
 
-async function loadSpecies(idOrName){if(!idOrName)return;const pokemon=await fetch(`https://pokeapi.co/api/v2/pokemon/${idOrName}`).then((r)=>r.json());const species=await fetch(pokemon.species.url).then((r)=>r.json());state.pokemon=pokemon;state.species=species;state.selectedLevelMoves=[];state.selectedTmMoves=[];$("sheetEmpty").hidden=true;$("sheetContent").hidden=false;$("basicControls").hidden=false;$("movesSection").hidden=false;fillBasics();await buildMovePools();renderMoveOptions();await renderSelectedMoves();await renderDamageRelations();renderSheet();}
+async function fetchIndex(){const r=await fetch('https://pokeapi.co/api/v2/pokemon?limit=1025').then(r=>r.json());state.index=r.results.map((p,i)=>({id:i+1,name:p.name}))}
+function setupSearch(){const input=$('speciesSearch');input.addEventListener('input',()=>{const q=input.value.trim().toLowerCase();const out=state.index.filter((p)=>p.name.includes(q)||String(p.id).startsWith(q)).slice(0,15);$('speciesPreview').innerHTML=out.map((p)=>`<button class="preview-item" data-id="${p.id}"><img src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${p.id}.png" alt=""><span>#${String(p.id).padStart(4,'0')} ${format(p.name)}</span></button>`).join('');$('speciesPreview').querySelectorAll('.preview-item').forEach((b)=>b.onclick=()=>loadSpecies(b.dataset.id));});$('speciesSearchBtn').onclick=()=>loadSpecies(input.value.trim().toLowerCase())}
 
-function fillBasics(){renderGenderButtons();state.abilitySlots=[state.pokemon.abilities[0]?.ability.name||"",state.pokemon.abilities[1]?.ability.name||""];$("natureSelect").innerHTML=NATURES.map((n)=>`<option value="${n.name}">${n.pt} (${n.name})</option>`).join("");["levelInput","natureSelect","nicknameInput","loyaltyInput"].forEach((id)=>$(id)?.addEventListener("input",async()=>{enforceAbilityRule();renderMoveOptions();if(isAlpha()) applyAlphaMoveRule();await renderSelectedMoves();renderSheet();}));$("shinyToggle").addEventListener("click",()=>toggleIconButton("shinyToggle",renderSheet));$("alphaToggle").addEventListener("click",async()=>toggleIconButton("alphaToggle",async()=>{if(isAlpha())applyAlphaMoveRule();await renderSelectedMoves();renderSheet();}));$("openAbilitiesModalBtn").onclick=()=>openAbilitiesModal();enforceAbilityRule();renderAbilitySummary();}
-function toggleIconButton(id,cb){const b=$(id);b.classList.toggle("active");b.setAttribute("aria-pressed",String(b.classList.contains("active")));cb?.();}
-const isShiny=()=>$("shinyToggle").classList.contains("active");
-const isAlpha=()=>$("alphaToggle").classList.contains("active");
-function renderGenderButtons(){const c=$("genderButtons");c.innerHTML="";if(state.species.gender_rate===-1){c.innerHTML='<span>assexual</span>';return;}const make=(id,text,icon)=>{const b=document.createElement("button");b.type="button";b.id=id;b.className="icon-toggle";b.innerHTML=`<img src="${icon}" alt="${text}"><span>${text}</span>`;b.addEventListener("click",()=>{document.querySelectorAll("#genderButtons .icon-toggle").forEach((x)=>x.classList.remove("active"));b.classList.add("active");renderSheet();});return b;};c.append(make("genderMale","Masculino","assets/icons/male.png"),make("genderFemale","Feminino","assets/icons/female.png"));$("genderMale").classList.add("active");}
-function selectedGender(){if(state.species.gender_rate===-1)return "assexual";return $("genderFemale")?.classList.contains("active")?"feminino":"masculino";}
-function enforceAbilityRule(){const level=Number($("levelInput").value||1);state.abilitySlots[1]=level>=40?state.abilitySlots[1]:"";renderAbilitySummary();}
+async function loadSpecies(idOrName){if(!idOrName)return;state.pokemon=await fetch(`https://pokeapi.co/api/v2/pokemon/${idOrName}`).then(r=>r.json());state.species=await fetch(state.pokemon.species.url).then(r=>r.json());state.xp = XP_TABLE[level()];await buildMoves();renderDetailControls();renderAbilities();renderMoves();renderSheet();const id=new URLSearchParams(location.search).get('id');if(id){const saved=getCreatedPokemonById(id);if(saved){Object.assign(state,saved.data);setLevel(saved.data.level);$('nicknameInput').value=saved.data.nickname||'';renderSheet();}}
+}
+async function buildMoves(){state.moves.level=[];state.moves.tm=[];for(const item of state.pokemon.moves){const vg=item.version_group_details.find((v)=>['scarlet-violet','sword-shield','ultra-sun-ultra-moon'].includes(v.version_group.name));if(!vg) continue;const model={name:item.move.name,url:item.move.url,level:vg.level_learned_at,method:vg.move_learn_method.name};if(vg.move_learn_method.name==='level-up') state.moves.level.push(model);else state.moves.tm.push(model)}state.moves.level.sort((a,b)=>a.level-b.level)}
 
-async function buildMovePools(){state.levelMoves=[];state.tmMoves=[];for(const mv of state.pokemon.moves){const version=pickVersion(mv.version_group_details);if(!version)continue;const entry={name:mv.move.name,url:mv.move.url,level:version.level_learned_at,method:version.move_learn_method.name};if(entry.method==="level-up")state.levelMoves.push(entry);if(["machine","tutor","egg"].includes(entry.method))state.tmMoves.push(entry);}state.levelMoves.sort((a,b)=>a.level-b.level);}
-function renderMoveOptions(){const level=Number($("levelInput").value||1);$("levelMoveSelect").innerHTML=state.levelMoves.filter((m)=>m.level<=level).map((m)=>`<option value="${m.name}">${m.level} ‚Ä¢ ${formatName(m.name)}</option>`).join("");$("tmMoveSelect").innerHTML=state.tmMoves.map((m)=>`<option value="${m.name}">${m.method.toUpperCase()} ‚Ä¢ ${formatName(m.name)}</option>`).join("");}
-function setupMoveActions(){$("addLevelMoveBtn").addEventListener("click",()=>addMove("level"));$("addTmMoveBtn").addEventListener("click",()=>addMove("tm"));}
-function addMove(type){const select=type==="level"?$("levelMoveSelect"):$("tmMoveSelect");const target=type==="level"?state.selectedLevelMoves:state.selectedTmMoves;if(!select.value||target.includes(select.value))return;if(target.length>=4)return notify("Limite de 4 golpes nesse grupo.");target.push(select.value);if(state.mode==="wild"&&isAlpha())applyAlphaMoveRule();renderSelectedMoves();}
-function applyAlphaMoveRule(){const alphaMove=state.levelMoves[state.levelMoves.length-1]?.name;if(!alphaMove)return;if(state.selectedLevelMoves.includes(alphaMove))return;if(state.selectedLevelMoves.length<4)state.selectedLevelMoves.push(alphaMove);else state.selectedLevelMoves[3]=alphaMove;}
-async function renderSelectedMoves(){const renderList=async(id,moves)=>{const ul=$(id);ul.innerHTML="";for(const name of moves){const entry=state.levelMoves.find((m)=>m.name===name)||state.tmMoves.find((m)=>m.name===name);const li=document.createElement("li");li.innerHTML=`<table class="move-table"><tr><td>${entry.method==='level-up'?entry.level:entry.method.toUpperCase()}</td><td>${formatName(name)}</td><td><img src="assets/types/${(await getMove(entry.url)).type.name}.png"></td><td>${(await getMove(entry.url)).damage_class.name}</td></tr></table>`;const rm=document.createElement("button");rm.type="button";rm.textContent="Remover";rm.onclick=()=>{const t=id==="levelMoveSlots"?state.selectedLevelMoves:state.selectedTmMoves;t.splice(t.indexOf(name),1);renderSelectedMoves();};li.appendChild(rm);ul.appendChild(li);}};await renderList("levelMoveSlots",state.selectedLevelMoves);await renderList("tmMoveSlots",state.selectedTmMoves);const output=$("selectedMovesOutput");output.innerHTML="";for(const moveName of [...state.selectedLevelMoves,...state.selectedTmMoves]){const li=document.createElement("li");li.textContent=formatName(moveName);li.onclick=()=>openMoveModal(moveName);output.appendChild(li);} }
+function renderDetailControls(){ $('sheetEmpty').hidden=true; $('sheetContent').hidden=false; $('detailsBlock').hidden=false; $('natureBlock').hidden=false; $('movesSection').hidden=false; const trained=state.mode==='trained'; $('trainedRow1').hidden=!trained; $('trainedRow2').hidden=!trained; $('wildRow1').hidden=trained; $('ballBlock').hidden=!trained; $('xpControls').hidden=!trained; renderLoyalty(); renderGenderBtn(); renderPokeballs(); }
+function renderLoyalty(){const c=$('loyaltyBlocks');c.innerHTML='';for(let i=1;i<=4;i++){const b=document.createElement('button');b.textContent=i<=state.loyalty?'‚ñ†':'‚ñ°';b.onclick=()=>{state.loyalty=i;renderLoyalty();renderSheet()};c.appendChild(b);} }
+function renderGenderBtn(){ if(state.species?.gender_rate===-1){$('genderDropdownBtn').textContent='G√™nero: assexual';return;} $('genderDropdownBtn').textContent=`G√™nero: ${state.gender? (state.gender==='male'?'Masculino':'Feminino'):'‚Äî'}`;}
+function setupGenderModal(){ $('genderDropdownBtn').onclick=()=>{if(state.species?.gender_rate===-1)return; $('genderOptions').innerHTML=`<button class="user-menu-link" id="gMale"><img src="assets/icons/male.png" width="16"> Masculino</button><button class="user-menu-link" id="gFem"><img src="assets/icons/female.png" width="16"> Feminino</button>`;$('genderModal').showModal();$('gMale').onclick=()=>{state.gender='male';$('genderModal').close();renderGenderBtn();renderSheet()};$('gFem').onclick=()=>{state.gender='female';$('genderModal').close();renderGenderBtn();renderSheet()};}; }
+function renderPokeballs(){const list=['pokeball','greatball','ultraball','premierball','luxuryball'];$('pokeballGrid').innerHTML=list.map((n)=>`<button type="button" class="ball-btn ${state.pokeball===n?'active':''}" data-ball="${n}"><img src="assets/pokeball/${n}.png" onerror="this.style.display='none'" alt="${n}"><small>${n}</small></button>`).join('');$('pokeballGrid').querySelectorAll('.ball-btn').forEach((b)=>b.onclick=()=>{state.pokeball=b.dataset.ball;renderPokeballs();renderSheet()});}
 
-const getNature=()=>NATURES.find((n)=>n.name===$("natureSelect").value)||NATURES[0];
-function getBaseStats(){const raw={};state.pokemon.stats.forEach((s)=>{if(s.stat.name==="special-attack")raw.spatk=convertStat(s.base_stat);else if(s.stat.name==="special-defense")raw.spdef=convertStat(s.base_stat);else if(s.stat.name==="speed")raw.spd=convertStat(s.base_stat);else if(s.stat.name==="attack")raw.atk=convertStat(s.base_stat);else if(s.stat.name==="defense")raw.def=convertStat(s.base_stat);else if(s.stat.name==="hp")raw.hp=convertStat(s.base_stat);});return raw;}
-function autoDistribute(base,points){const gains=Object.fromEntries(STAT_KEYS.map((k)=>[k,0]));const ranking=[...STAT_KEYS].sort((a,b)=>base[b]-base[a]||STAT_KEYS.indexOf(a)-STAT_KEYS.indexOf(b));for(let i=0;i<points;i++)gains[ranking[i%ranking.length]]+=1;return gains;}
-function getAllocatedStats(base){const points=Number($("levelInput").value||1),gains=Object.fromEntries(STAT_KEYS.map((k)=>[k,0]));if(state.mode==="wild"||state.mode==="quick")Object.assign(gains,autoDistribute(base,points));if(state.mode==="trained")STAT_KEYS.forEach((k)=>gains[k]=Number($(`alloc-${k}`)?.value||0));if(state.mode==="wild"&&isAlpha()){const top=[...STAT_KEYS].sort((a,b)=>base[b]-base[a]).slice(0,2);gains[top[0]]+=5;gains[top[1]]+=5;}return {gains,points};}
-function ensureTrainedInputs(points){const list=$("levelStatsList");if(state.mode!=="trained")return;if(list.querySelector("input"))return;list.innerHTML="";STAT_KEYS.forEach((k)=>{const li=document.createElement("li");li.innerHTML=`${STAT_LABELS[k]}: <input class="alloc-input" id="alloc-${k}" type="number" min="0" max="${points}" value="0">`;list.appendChild(li);});list.querySelectorAll("input").forEach((i)=>i.addEventListener("input",renderSheet));}
+function setupModes(){document.querySelectorAll('.mode-btn').forEach((btn)=>btn.onclick=()=>{state.mode=btn.dataset.mode;document.querySelectorAll('.mode-btn').forEach((b)=>b.classList.toggle('active',b===btn));$('quickControls').hidden=state.mode!=='quick';if(state.pokemon) renderDetailControls();renderSheet()})}
+function setupToggles(){$('shinyToggle').onclick=()=>{state.shiny=!state.shiny;$('shinyToggle').classList.toggle('active',state.shiny);renderSheet()};$('alphaToggle').onclick=()=>{state.alpha=!state.alpha;$('alphaToggle').classList.toggle('active',state.alpha);renderSheet()}}
 
-function renderSheet(){if(!state.pokemon)return;const base=getBaseStats();const {gains,points}=getAllocatedStats(base);ensureTrainedInputs(points);const nature=getNature();const finalStats=Object.fromEntries(STAT_KEYS.map((k)=>[k,base[k]+gains[k]]));if(nature.plus)finalStats[nature.plus]+=2;if(nature.minus)finalStats[nature.minus]-=2;const sprite = isShiny() ? (state.pokemon.sprites.other["official-artwork"].front_shiny||state.pokemon.sprites.front_shiny) : (state.pokemon.sprites.other["official-artwork"].front_default||state.pokemon.sprites.front_default);
-$("sheetSprite").src=sprite;$("sheetName").textContent=(state.mode==="trained"&&$("nicknameInput").value.trim())?`${$("nicknameInput").value.trim()} (${formatName(state.pokemon.name)})`:formatName(state.pokemon.name);$("sheetMeta").textContent=`Nv ${points} ‚Ä¢ ${selectedGender()} ‚Ä¢ Nature: ${nature.pt}`;$("sheetModeLabel").textContent=`Modo: ${state.mode}`;renderLoyalty();renderBasicsInfo();renderCapacities(finalStats, points);
-$("baseStatsList").innerHTML=STAT_KEYS.map((k)=>`<li>${STAT_LABELS[k]}: <strong>${base[k]}</strong></li>`).join("");if(state.mode!=="trained")$("levelStatsList").innerHTML=STAT_KEYS.map((k)=>`<li>${STAT_LABELS[k]}: +${gains[k]}</li>`).join("");$("finalStatsList").innerHTML=STAT_KEYS.map((k)=>`<li class="${nature.plus===k?"stat-positive":nature.minus===k?"stat-negative":""}">${STAT_LABELS[k]}: <strong>${finalStats[k]}</strong></li>`).join("");
-const hp1=(finalStats.hp+points)*4,hp2=points+finalStats.hp*3;$("hp1Text").textContent=`${hp1} / ${hp1}`;$("hp2Text").textContent=`${hp2} / ${hp2}`;$("natureTaste").innerHTML=`<strong>${nature.pt}</strong><br><span class="nature-pill">Gosta de:</span> ${nature.taste.includes("Neutra")?"Neutra":""}${nature.taste.includes("Gosta de")?nature.taste.split(" e n√£o gosta de ")[0].replace("Gosta de ",""):""}<br><span class="nature-pill">N√£o gosta de:</span> ${nature.taste.includes("n√£o gosta de")?nature.taste.split("n√£o gosta de ")[1]:"Neutra"}`;renderRadars(finalStats);}
-function renderBasicsInfo(){const types=state.pokemon.types.map((t)=>t.type.name);$("sheetTypes").innerHTML=types.map((t)=>`<img src="assets/types/${t}.png" alt="${t}">`).join("");$("sheetSize").textContent=`${(state.pokemon.height/10).toFixed(1)} m ‚Ä¢ ${(state.pokemon.weight/10).toFixed(1)} kg`;$("sheetEggGroups").textContent=state.species.egg_groups.map((g)=>formatName(g.name)).join(" | ");}
-async function renderDamageRelations(){if(!state.pokemon)return;const types=state.pokemon.types.map((t)=>t.type.name);const rel={};const apply=(arr,m)=>arr.forEach((t)=>rel[t.name]=(rel[t.name]??1)*m);const t1=await fetch(`https://pokeapi.co/api/v2/type/${types[0]}`).then((r)=>r.json());apply(t1.damage_relations.double_damage_from,2);apply(t1.damage_relations.half_damage_from,.5);apply(t1.damage_relations.no_damage_from,0);if(types[1]){const t2=await fetch(`https://pokeapi.co/api/v2/type/${types[1]}`).then((r)=>r.json());apply(t2.damage_relations.double_damage_from,2);apply(t2.damage_relations.half_damage_from,.5);apply(t2.damage_relations.no_damage_from,0);}const weak=[],res=[],imm=[];Object.entries(rel).forEach(([t,v])=>{if(v===0)imm.push(t);else if(v>1)weak.push(t);else if(v<1)res.push(t);});$("weaknesses").innerHTML=weak.map((t)=>`<img src="assets/types/${t}.png" title="${t}">`).join("");$("resistances").innerHTML=res.map((t)=>`<img src="assets/types/${t}.png" title="${t}">`).join("");$("immunities").innerHTML=imm.map((t)=>`<img src="assets/types/${t}.png" title="${t}">`).join("");}
-function renderLoyalty(){const val=Math.max(0,Math.min(4,Number($("loyaltyInput")?.value||0)));const txt=["O pokemon n√£o confia em voc√™","O pokemon v√™ algo em voc√™","O pokemon se preocupa com voc√™","O pokemon gosta bastante de voc√™","O pokemon ama voc√™"][val];$("sheetLoyalty").innerHTML=state.mode==="trained"?`${txt} ${val>0?`<img src="assets/icons/lealdade${val}.png" alt="Lealdade ${val}" width="20">`:""}`:"";}
-function renderCapacities(finalStats, level){const int=Math.max(0,Math.floor((finalStats.spatk+finalStats.spdef)/6));const str=Math.max(0,Math.floor((finalStats.atk+finalStats.def)/6));const mov=Math.max(1,Math.floor((finalStats.spd+level)/6));$("cap-int").textContent=int;$("cap-str").textContent=str;$("cap-mov").textContent=mov;$("cap-int-label").textContent=capLabel(int,["Instintivo","Observador","Sagaz","Brilhante","G√™nio"]);$("cap-str-label").textContent=capLabel(str,["Fr√°gil","Subdesenvolvida","Treinada","Potente","Colossal"]);$("cap-mov-label").textContent=capLabel(mov,["Lento","√Ågil","Veloz","Rel√¢mpago","Supers√¥nico"]);}
-function contestValue(v){if(v<=3)return 1;if(v<=6)return 2;if(v<=9)return 3;if(v<=12)return 4;return 5;}
-function renderRadars(finalStats){if(typeof Chart==="undefined")return;state.statsChart?.destroy();state.contestChart?.destroy();state.statsChart=new Chart($("statsRadar"),{type:"radar",data:{labels:["HP","ATK","DEF","Sp.ATK","Sp.DEF","SPD"],datasets:[{data:[finalStats.hp,finalStats.atk,finalStats.def,finalStats.spatk,finalStats.spdef,finalStats.spd],backgroundColor:"rgba(123,220,101,.2)",borderColor:"#7bdc65",pointRadius:0}]},options:{plugins:{legend:{display:false}},scales:{r:{ticks:{display:false}}}}});const contest=[contestValue(finalStats.spatk),contestValue(finalStats.spd),contestValue(finalStats.atk),contestValue(finalStats.spdef),contestValue(finalStats.def)];state.contestChart=new Chart($("contestRadar"),{type:"radar",data:{labels:["Beleza","Fofura","Estilo","Intelig√™ncia","Vigor"],datasets:[{data:contest,backgroundColor:"rgba(255,105,180,.25)",borderColor:"#ff69b4",pointRadius:0}]},options:{plugins:{legend:{display:false}},scales:{r:{ticks:{display:false}}}}});}
+async function renderAbilities(){const body=$('abilitiesModalBody');const limit=level()>=40?2:1;const list=state.pokemon.abilities.map((a)=>({key:a.ability.name,isHidden:a.is_hidden,info:abilitiesData[a.ability.name]||{ptName:format(a.ability.name),name:format(a.ability.name),activation:'‚Äî',effect:'‚Äî'}}));body.innerHTML=(limit>1?'<p>Seu n√≠vel permite selecionar uma segunda habilidade.</p>':'')+list.map((a)=>`<article class="ability-option ${a.isHidden?'hidden':''} ${state.abilitySelection[0]===a.key?'sel1':''} ${state.abilitySelection[1]===a.key?'sel2':''}" data-ability="${a.key}"><strong>${a.info.ptName} (${a.info.name}) ${a.isHidden?'(oculta)':''}</strong><p>Ativa√ß√£o: ${a.info.activation}</p><p>${a.info.effect}</p></article>`).join('');body.querySelectorAll('.ability-option').forEach((el)=>el.onclick=()=>{const k=el.dataset.ability;if(!state.abilitySelection[0]||state.abilitySelection[0]===k) state.abilitySelection[0]=k; else if(limit>1 && (!state.abilitySelection[1]||state.abilitySelection[1]===k)) state.abilitySelection[1]=k; else state.abilitySelection=[k];renderAbilities();renderSheet()});$('openAbilitiesModalBtn').onclick=()=>$('abilitiesModal').showModal()}
 
-function openAbilitiesModal(){const modal=$("abilitiesModal"),body=$("abilitiesModalBody"),limit=Number($("levelInput").value||1)>=40?2:1;body.innerHTML="";state.pokemon.abilities.forEach((a)=>{const info=abilitiesData[a.ability.name]||{name:formatName(a.ability.name),ptName:formatName(a.ability.name),activation:"‚Äî",effect:"‚Äî"};const div=document.createElement("div");div.className="ability-option";div.innerHTML=`<strong>${info.name} = ${info.ptName}</strong><br>Ativa√ß√£o: ${info.activation}<br>Efeito: ${info.effect}`;const btns=document.createElement("div");btns.className="ability-buttons";btns.innerHTML=`<button type="button">Selecionar slot 1</button>${limit>1?'<button type="button">Selecionar slot 2</button>':''}`;btns.children[0].onclick=()=>{state.abilitySlots[0]=a.ability.name;renderAbilitySummary();};if(limit>1&&btns.children[1])btns.children[1].onclick=()=>{state.abilitySlots[1]=a.ability.name;renderAbilitySummary();};div.appendChild(btns);body.appendChild(div);});modal.showModal();}
-function renderAbilitySummary(){const limit=Number($("levelInput").value||1)>=40?2:1;$("abilitiesSummary").textContent=[state.abilitySlots[0],limit>1?state.abilitySlots[1]:null].filter(Boolean).map(formatName).join(" ‚Ä¢ ")||"Sem habilidade";}
-async function openMoveModal(moveName){const entry=state.levelMoves.find((m)=>m.name===moveName)||state.tmMoves.find((m)=>m.name===moveName);if(!entry)return;const m=await getMove(entry.url);const level=Number($("levelInput").value||1);const stab=state.pokemon.types.some((t)=>t.type.name===m.type.name)&&m.power?Math.floor(level/5):0;const dmg=m.power?`${powerToDamage(m.power)}${stab?` + ${stab}`:""}`:"‚Äî";$("moveModalTitle").textContent=formatName(moveName);$("moveDetailsBody").innerHTML=`<p><img src="assets/types/${m.type.name}.png" width="22"> ${formatName(m.type.name)} ‚Ä¢ ${formatName(m.damage_class.name)}</p><p>Dano RPG: <strong>${dmg}</strong></p><p>Acerto: ${m.accuracy ?? "‚Äî"} ‚Ä¢ PP: ${m.pp ?? "‚Äî"}</p><p>${m.effect_entries.find((e)=>e.language.name==='en')?.short_effect||'Sem descri√ß√£o.'}</p>`;$("moveDetailsModal").showModal();}
+function moveCard(m){const t=m.type||'normal';const c=TYPE_COLORS[t]||'#999';return `<button class="move-item" data-move="${m.name}" style="background:${c}22;border-color:${c}88"><strong>${m.pt||format(m.name)}</strong><small>${format(t)}</small></button>`}
+async function enrichMove(entry){const raw=await fetch(entry.url).then(r=>r.json());const pt=raw.names.find((n)=>n.language.name==='pt-br')?.name||format(raw.name);const effect=raw.effect_entries.find((e)=>e.language.name==='pt-br')?.effect||raw.effect_entries.find((e)=>e.language.name==='en')?.effect||'Sem descri√ß√£o';return {...entry,pt,type:raw.type.name,cat:raw.damage_class.name,power:raw.power,pp:raw.pp,acc:raw.accuracy,effect:effect.replace(/\$effect_chance/g,String(raw.effect_chance||''))};}
+async function renderMoves(){const lv=state.moves.level.filter((m)=>m.level<=level()).slice(-24);const tm=state.moves.tm.slice(0,24);const ldetail=await Promise.all(lv.map(enrichMove));const tdetail=await Promise.all(tm.map(enrichMove));$('levelMovesList').innerHTML=ldetail.map(moveCard).join('');$('tmMovesList').innerHTML=tdetail.map(moveCard).join('');document.querySelectorAll('.move-item').forEach((b)=>b.onclick=()=>{const list=[...ldetail,...tdetail];const move=list.find((m)=>m.name===b.dataset.move);if(!move)return;if(!state.selectedMoves.includes(move.name)){if(state.selectedMoves.length>=8)state.selectedMoves.shift();state.selectedMoves.push(move.name);}openMoveModal(move);renderSheet();});}
 
-function setupQuickGeneration(){$("quickGenerateBtn").addEventListener("click",async()=>{if(!state.pokemonIndex.length)return;const random=state.pokemonIndex[Math.floor(Math.random()*state.pokemonIndex.length)];await loadSpecies(String(random.id));$("levelInput").value=Math.floor(Math.random()*100)+1;$("natureSelect").value=NATURES[Math.floor(Math.random()*NATURES.length)].name;renderMoveOptions();state.selectedLevelMoves=state.levelMoves.filter((m)=>m.level<=Number($("levelInput").value)).slice(-4).map((m)=>m.name);state.selectedTmMoves=state.tmMoves.slice(0,4).map((m)=>m.name);await renderSelectedMoves();renderSheet();});}
-function getSheetPayload(){const base=getBaseStats();const {gains,points}=getAllocatedStats(base);const nature=getNature();return {mode:state.mode,pokemon:state.pokemon.name,level:points,shiny:isShiny(),gender:selectedGender(),abilities:state.abilitySlots.filter(Boolean),nickname:$("nicknameInput")?.value||"",loyalty:Number($("loyaltyInput")?.value||0),alpha:isAlpha(),nature,base,gains,moves:{level:[...state.selectedLevelMoves],tm:[...state.selectedTmMoves]}};}
-function setupExport(){$("copySheetBtn").addEventListener("click",async()=>{const p=getSheetPayload();await navigator.clipboard.writeText(`[${formatName(p.pokemon)}] Nv.${p.level} (${p.mode})\nNature: ${p.nature.pt}\nHabilidades: ${p.abilities.map(formatName).join(", ")}`);notify("Ficha copiada!");});$("copyMovesBtn").addEventListener("click",async()=>{const p=getSheetPayload();await navigator.clipboard.writeText([...p.moves.level,...p.moves.tm].map((m)=>`- ${formatName(m)}`).join("\n"));notify("Golpes copiados!");});$("saveJsonBtn").addEventListener("click",()=>{const p=getSheetPayload();const blob=new Blob([JSON.stringify(p,null,2)],{type:"application/json"});const url=URL.createObjectURL(blob);const a=document.createElement("a");a.href=url;a.download=`${p.pokemon}-ficha.json`;a.click();URL.revokeObjectURL(url);});}
-function setupGeneralEvents(){document.querySelectorAll("[data-close-modal]").forEach((b)=>b.addEventListener("click",()=>$(b.dataset.closeModal).close()));$("addLevelMoveBtn").type="button";$("sheetCryBtn").addEventListener("click",()=>{const src=state.pokemon?.cries?.latest; if(!src)return; new Audio(src).play();});}
+function typeBlockPath(type){return `assets/types block/${TYPE_BLOCK_ICON[type]||`${type}.png`}`}
+async function renderRelations(){const rel=await Promise.all(state.pokemon.types.map((t)=>fetch(t.type.url).then(r=>r.json())));const map={double_damage_from:new Set(),half_damage_from:new Set(),no_damage_from:new Set()};rel.forEach((r)=>Object.keys(map).forEach((k)=>r.damage_relations[k].forEach((x)=>map[k].add(x.name))));const render=(id,set)=>$(id).innerHTML=[...set].map((t)=>`<img src="${typeBlockPath(t)}" alt="${t}">`).join('')||'‚Äî';render('weaknesses',map.double_damage_from);render('resistances',map.half_damage_from);render('immunities',map.no_damage_from)}
+function calcStats(){const base={};state.pokemon.stats.forEach((s)=>base[statMap[s.stat.name]]=Math.floor(s.base_stat/10)+(s.base_stat%10>=9?1:0));const lvl=level();const points=Math.floor(lvl/3);const gains={hp:0,atk:0,def:0,spatk:0,spdef:0,spd:0};const n=activeNature();if(state.mode==='wild'){const total=Object.values(base).reduce((a,b)=>a+b,0);Object.keys(base).forEach((k)=>gains[k]=Math.round((base[k]/total)*points));} else {Object.keys(base).forEach((k)=>gains[k]=Math.floor(points/6)); if(n.plus) gains[n.plus]+=2; if(n.minus) gains[n.minus]-=2;}
+const final={};Object.keys(base).forEach((k)=>final[k]=Math.max(1,base[k]+gains[k]));return {base,gains,final};}
+function captureChance(){if(state.mode!=='wild')return null;let c=100-level()/2;const hpPct=100;if(hpPct>51)c-=30;const evoPenalty=state.species.evolves_from_species? -10:10; c+=evoPenalty; if(state.shiny)c-=10; if(state.alpha)c-=20; if(state.species.is_legendary)c-=30; return Math.max(0,Math.round(c));}
 
-async function init(){setupMenu();setupModes();setupMobileTabs();setupSearch();setupMoveActions();setupQuickGeneration();setupExport();setupGeneralEvents();await fetchPokemonIndex();}
+function renderSheet(){if(!state.pokemon)return;const lvl=level();const stats=calcStats();const primary=state.pokemon.types[0].type.name;$('spriteWrap').style.borderColor=TYPE_COLORS[primary]||'#7bdc65';const displayName=state.mode==='trained' && $('nicknameInput').value.trim()?$('nicknameInput').value.trim():format(state.pokemon.name);$('sheetSprite').src=state.customImage||state.pokemon.sprites.other['official-artwork'].front_default||state.pokemon.sprites.front_default;$('sheetSprite').style.transform=`translate(${state.crop.x}px,${state.crop.y}px) scale(${state.crop.zoom})`; $('sheetDex').textContent=`#${String(state.pokemon.id).padStart(4,'0')}`;$('sheetName').textContent=displayName;$('speciesSubname').textContent=displayName!==format(state.pokemon.name)?`Esp√©cie: ${format(state.pokemon.name)}`:'';$('sheetLevel').textContent=`Nv.${lvl}`;$('sheetTypes').innerHTML=state.pokemon.types.map((t)=>`<img src="${typeBlockPath(t.type.name)}" alt="${t.type.name}">`).join('');$('sheetShinyIcon').hidden=!state.shiny;$('sheetAlphaIcon').hidden=!state.alpha;$('sheetBallIcon').hidden=state.mode!=='trained';$('sheetBallIcon').src=`assets/pokeball/${state.pokeball}.png`;
+  const hp=stats.final.hp*10;$('hpTotalFill').style.width='100%';$('hpTotalText').textContent=`${hp}/${hp}`;$('hpQuickFill').style.width='100%';$('hpQuickText').textContent=`${Math.ceil(hp/2)}/${Math.ceil(hp/2)}`;
+  $('capacities').innerHTML=['INTELIG√äNCIA','FOR√áA','DESLOCAMENTO'].map((n)=>`<div class="capacity"><strong>${n}</strong><div>${Math.max(1,Math.floor((stats.final.spatk+stats.final.spdef)/2))}</div></div>`).join('');
+  const rows=['hp','atk','def','spatk','spdef','spd'];$('statsCompact').innerHTML=rows.map((k)=>`<div class="cell"><strong>${k.toUpperCase()}</strong><div>Basal ${stats.base[k]} | Pontos ${stats.gains[k]} | Final ${stats.final[k]}</div></div>`).join('');
+  $('selectedMovesOutput').innerHTML=state.selectedMoves.map((n)=>`<button class="sel-move" data-move="${n}">${format(n)}</button>`).join('');
+  document.querySelectorAll('.sel-move').forEach((b)=>b.onclick=async()=>{const e=[...state.moves.level,...state.moves.tm].find((m)=>m.name===b.dataset.move);if(e)openMoveModal(await enrichMove(e));});
+  const nextLv=Math.min(100,lvl+1);const low=XP_TABLE[lvl]||0,high=XP_TABLE[nextLv]||XP_TABLE[100];const percent=high===low?100:Math.min(100,((state.xp-low)/(high-low))*100);$('xpFill').style.width=`${percent}%`;$('xpText').textContent=`XP ${state.xp} / Pr√≥x. n√≠vel ${high}`;
+  $('infoTab').hidden=false;$('infoTab').innerHTML=`<h4>Aba de informa√ß√µes</h4><p>Propor√ß√µes: ${state.pokemon.height/10}m | ${state.pokemon.weight/10}kg</p><p>Reprodu√ß√£o: ${state.species.gender_rate===-1?'assexual':(state.gender||'‚Äî')} | ${(state.species.egg_groups[0]?.name||'‚Äî')} ${state.species.egg_groups[1]?`| ${state.species.egg_groups[1].name}`:''}</p><p>Natureza: ${activeNature().pt} (${activeNature().taste})</p><p>Modo: ${state.mode==='wild'?'Selvagem':state.mode==='trained'?'Adestrado':'Gera√ß√£o'}</p>${state.mode==='wild'?`<p>Chance de captura: ${captureChance()}%</p><p>Xp dado: ${lvl}</p>`:''}${state.mode==='trained'?`<p>Lealdade: ${'‚ñ†'.repeat(state.loyalty)}${'‚ñ°'.repeat(4-state.loyalty)}</p>`:''}`;
+  renderRelations(); renderRadars(stats.final);
+}
+
+function renderRadars(finalStats){ if(typeof Chart==='undefined') return; const labels=['HP','ATK','DEF','Sp.ATK','Sp.DEF','SPD']; const values=[finalStats.hp,finalStats.atk,finalStats.def,finalStats.spatk,finalStats.spdef,finalStats.spd]; state.baseRadar?.destroy(); state.baseRadar=new Chart($('statsRadar'),{type:'radar',data:{labels,datasets:[{data:values,backgroundColor:'rgba(123,220,101,.2)',borderColor:'#7bdc65'}]},options:{plugins:{legend:{display:false}}}}); $('radarNumbers').innerHTML=labels.map((l,i)=>`<span>${l}: ${values[i]}</span>`).join(' ‚Ä¢ ');
+  const muffins=Math.min(5,Math.floor(level()/5)); if(state.muffins>muffins)state.muffins=muffins; const contest=values.map((v)=>Math.min(3,Math.floor(v/10))); contest[0]+=state.muffins; state.contestRadar?.destroy(); state.contestRadar=new Chart($('contestRadar'),{type:'radar',data:{labels:['Beleza','Fofura','Estilo','Intelig√™ncia','Vigor','Ritmo'],datasets:[{data:contest,backgroundColor:'rgba(255,105,180,.2)',borderColor:'#ff69b4'}]},options:{plugins:{legend:{display:false}}}}); $('contestNumbers').innerHTML=contest.join(' | '); $('muffinBox').innerHTML=`<p>Muffins dispon√≠veis: ${muffins}</p><button id="muffinMinus" type="button">-</button> <strong>${state.muffins}</strong> <button id="muffinPlus" type="button">+</button>`; $('muffinPlus').onclick=()=>{if(state.muffins<muffins){state.muffins++;renderSheet();$('contestRadarModal').showModal();}}; $('muffinMinus').onclick=()=>{if(state.muffins>0){state.muffins--;renderSheet();$('contestRadarModal').showModal();}}; }
+
+function moveTypeIcon(type){return `assets/types/${type}.png`}
+function catIcon(c){return `assets/icons/${c}.png`}
+async function translate(text){if(!text) return 'Sem descri√ß√£o'; const p=text.replace(/\n|\f/g,' '); try{const r=await fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=en&tl=pt&dt=t&q=${encodeURIComponent(p)}`);const d=await r.json();return d[0].map((c)=>c[0]).join('');}catch{return p;}}
+async function openMoveModal(move){$('moveModalTitle').textContent=move.pt||format(move.name);$('moveModalHeader').style.borderColor=TYPE_COLORS[move.type]||'#7bdc65';$('moveDetailsBody').innerHTML=`<div class="move-modal-type"><img src="${moveTypeIcon(move.type)}" alt="${move.type}"><strong>${format(move.type)}</strong><img src="${catIcon(move.cat)}" alt="${move.cat}"></div><p>Dano RPG: <strong>${powerToDamage(move.power)}</strong></p><p>ACC RPG: ${accuracyToRPG(move.acc||0)} | PP RPG: ${ppToRPG(move.pp||0)}</p><section><h4>Descri√ß√£o</h4><p class="move-modal-desc">${await translate(move.effect)}</p></section>`;$('moveDetailsModal').showModal();}
+
+function setupActions(){document.querySelectorAll('[data-close-modal]').forEach((b)=>b.onclick=()=>$(b.dataset.closeModal).close());$('natureSelect').onchange=renderSheet;$('levelInput').oninput=()=>{state.xp=Math.max(state.xp,XP_TABLE[level()]);renderMoves();renderAbilities();renderSheet()};$('levelInputWild').oninput=renderSheet;$('quickGenerateBtn').onclick=async()=>{const p=state.index[Math.floor(Math.random()*state.index.length)];await loadSpecies(p.id);state.mode='quick';setLevel(Math.floor(Math.random()*100)+1);state.shiny=Math.random()>.9;state.alpha=Math.random()>.85;renderSheet();};$('openBaseRadarBtn').onclick=()=>$('baseRadarModal').showModal();$('openContestRadarBtn').onclick=()=>$('contestRadarModal').showModal();$('addXpBtn').onclick=()=>{const gain=Number($('xpInput').value||0);if(gain<=0)return;const before=level();state.xp+=gain;const after=xpToLevel(state.xp);if(after>before){setLevel(after);alert(`Subiu para n√≠vel ${after}! Ganhou pontos de atributo e pode aprender novos golpes.`);}renderMoves();renderAbilities();renderSheet();};$('copySheetBtn').onclick=()=>navigator.clipboard.writeText(`${$('sheetName').textContent} ${$('sheetLevel').textContent}`);$('copyMovesBtn').onclick=()=>navigator.clipboard.writeText(state.selectedMoves.map(format).join('\n'));
+  $('savePokemonBtn').onclick=()=>{const profile=getProfile();if(!profile)return alert('Fa√ßa login para salvar.');const rec=saveCreatedPokemon({profileNick:profile.nick,data:{...state,level:level(),nickname:$('nicknameInput').value}});alert(`Salvo com ID ${rec.id}`);};
+  $('spriteWrap').onclick=()=>{if(state.mode==='trained')$('imageCropModal').showModal();};
+  $('customImageInput').onchange=()=>{const f=$('customImageInput').files?.[0];if(!f)return;const r=new FileReader();r.onload=()=>{state.customImage=r.result;$('cropPreviewImg').src=String(r.result);$('cropPreviewImg').style.transform='translate(0,0) scale(1)';};r.readAsDataURL(f)};
+  ['cropZoom','cropX','cropY'].forEach((id)=>$(id).oninput=()=>{$('cropPreviewImg').style.transform=`translate(${$('cropX').value}px,${$('cropY').value}px) scale(${$('cropZoom').value})`;});
+  $('saveCropBtn').onclick=()=>{state.crop={zoom:Number($('cropZoom').value),x:Number($('cropX').value),y:Number($('cropY').value)};$('imageCropModal').close();renderSheet();};
+}
+
+async function init(){setupMenu();initAuthUI({linksProvider:()=>({creation:'creation.html',created:'created-pokemons.html'})});setupModes();setupSearch();setupToggles();initNatures();setupGenderModal();setupActions();await fetchIndex();const qs=new URLSearchParams(location.search);if(qs.get('id')){const saved=getCreatedPokemonById(qs.get('id'));if(saved){await loadSpecies(saved.data.pokemon.id || saved.data.pokemon?.name || saved.data.pokemonName || 1);}}}
 init();
diff --git a/js/storage.js b/js/storage.js
new file mode 100644
index 0000000000000000000000000000000000000000..c20dbc3d7cbba2fb4ce4cf8ef8c39539c5b71a99
--- /dev/null
+++ b/js/storage.js
@@ -0,0 +1,60 @@
+const PROFILE_KEY = 'instituto.profile';
+const POKEMONS_KEY = 'instituto.createdPokemons';
+
+function safeRead(key, fallback) {
+  try {
+    const raw = localStorage.getItem(key);
+    return raw ? JSON.parse(raw) : fallback;
+  } catch {
+    return fallback;
+  }
+}
+
+function safeWrite(key, value) {
+  localStorage.setItem(key, JSON.stringify(value));
+}
+
+export function getProfile() {
+  return safeRead(PROFILE_KEY, null);
+}
+
+export function saveProfile(profile) {
+  safeWrite(PROFILE_KEY, {
+    nick: profile.nick,
+    avatar: profile.avatar || '',
+    isOwner: profile.isOwner || false,
+    createdAt: profile.createdAt || Date.now(),
+  });
+}
+
+export function clearProfile() {
+  localStorage.removeItem(PROFILE_KEY);
+}
+
+export function getCreatedPokemons() {
+  return safeRead(POKEMONS_KEY, []);
+}
+
+export function getCreatedPokemonsByNick(nick) {
+  return getCreatedPokemons().filter((item) => item.profileNick === nick);
+}
+
+export function saveCreatedPokemon(payload) {
+  const all = getCreatedPokemons();
+  const id = payload.id || `pkm_${Date.now()}_${Math.random().toString(16).slice(2, 8)}`;
+  const record = { ...payload, id, updatedAt: Date.now(), createdAt: payload.createdAt || Date.now() };
+  const idx = all.findIndex((p) => p.id === id);
+  if (idx >= 0) all[idx] = record;
+  else all.unshift(record);
+  safeWrite(POKEMONS_KEY, all);
+  return record;
+}
+
+export function getCreatedPokemonById(id) {
+  return getCreatedPokemons().find((p) => p.id === id) || null;
+}
+
+export function deleteCreatedPokemon(id) {
+  const filtered = getCreatedPokemons().filter((p) => p.id !== id);
+  safeWrite(POKEMONS_KEY, filtered);
+}
